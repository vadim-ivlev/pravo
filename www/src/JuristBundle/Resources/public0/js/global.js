"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}();!function e(t,s,i){function r(n,a){if(!s[n]){if(!t[n]){var l="function"==typeof require&&require;if(!a&&l)return l(n,!0);if(o)return o(n,!0);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}var u=s[n]={exports:{}};t[n][0].call(u.exports,function(e){var s=t[n][1][e];return r(s?s:e)},u,u.exports,e,t,s,i)}return s[n].exports}for(var o="function"==typeof require&&require,n=0;n<i.length;n++)r(i[n]);return r}({"/var/www/pravo/node_modules/101/exists.js":[function(e,t,s){function i(e){return void 0!==e&&null!==e}t.exports=i},{}],"/var/www/pravo/node_modules/101/is-object.js":[function(e,t,s){function i(e){return"object"==typeof e&&r(e)&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof String)&&!(e instanceof Number)}var r=e("./exists");t.exports=i},{"./exists":"/var/www/pravo/node_modules/101/exists.js"}],"/var/www/pravo/node_modules/keypather/index.js":[function(e,t,s){(function(s){function i(e){this.force=void 0===e||Boolean(e)}function r(e){e=e.replace(/'/g,'"');try{return JSON.parse(e)}catch(t){return}}function o(e){return null!==e&&void 0!==e}function n(e){return e[e.length-1]}function a(e){return Array.isArray(e)?e:[e]}function l(e){return e.trim()}function c(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var u=e("101/is-object"),p=t.exports=function(e){var t=new i(e&&e.force);return t};"undefined"!=typeof t&&(t.exports=p),i.prototype.get=function(){return this.create=!1,this._get.apply(this,arguments)},i.prototype.set=function(e,t,s){if(this.obj=e,t+="",this.create=this.force,this.fnArgs=Array.prototype.slice.call(arguments,3).map(a),t.match(/\(\)$/))throw new Error("Invalid left-hand side in assignment");this.keypathSplit=this.splitKeypath(t);var i=this.getLastKey(),r=this.getLastObj(arguments,!0);return r[i]=s,s},i.prototype["in"]=function(e,t){if(this.obj=e,t+="",this.create=!1,")"===n(t))throw new TypeError("keypath should not end in a function");this.keypathSplit=this.splitKeypath(t);var s=this.getLastKey(),i=this.getLastObj(arguments);return!(this.force&&!i)&&s in i},i.prototype.has=function(e,t){if(this.obj=e,t+="",this.create=!1,")"===n(t))throw new TypeError("keypath should not end in a function");this.keypathSplit=this.splitKeypath(t);var s=this.getLastKey(),i=this.getLastObj(arguments);return!(this.force&&!i)&&i.hasOwnProperty(s)},i.prototype.del=function(e,t){if(this.obj=e,t+="",this.create=!1,")"===n(t))return!0;this.keypathSplit=this.splitKeypath(t),this.fnArgs=Array.prototype.slice.call(arguments,2).map(a);var s=this.getLastKey(),i=this.getLastObj(arguments);return!(!this.force||i)||(delete i[s],!0)},i.prototype.flatten=function(e,t,s,i){var r=Array.isArray(e),n=r?[]:{},a=this;return Object.keys(e).reduce(function(i,n){var l=e[n];r&&(n=["[",n,"]"].join(""));var c=o(s)?[s,n].join(r?"":t):n;return Array.isArray(l)||u(l)?(t=o(t)?t:".",a.flatten(l,t,c,i)):i[c]=l,i},i||n)};var d=/^\[[0-9]+\]/;i.prototype.expand=function(e,t){var s=this,i=!0;if(o(t))var r=new RegExp(c(t),"g");var n=Object.keys(e).reduce(function(n,a){i&&(i=d.test(a),i||(n=n.reduce(function(e,t){return e[t]=n[t],n},{})));var l=e[a];return o(t)&&(a=a.replace(r,".")),s.set(n,a,l),n},[]);return n},i.prototype._get=function(e,t){return this.obj=e,t+="",this.keypathSplit=this.splitKeypath(t),this.fnArgs=Array.prototype.slice.call(arguments,2).map(a),this.keypathSplit.reduce(this.getValue.bind(this),e)},i.prototype.splitKeypath=function(e){var t,s,i,r,o=e.split("."),n=[],a=!1,l=!1;return o.forEach(function c(e){var o,u,p;0!==e.length&&(!a&&~e.indexOf("(")?(a=!0,t=[],o=e.split("("),i=o.shift()||"",u=o.join("("),u.length&&c(u)):a?~e.indexOf(")")?(a=!1,o=e.split(")"),t.push(o.shift()),n.push(i+"("+t.join(".")+")"),u=o.join(")"),u.length&&c(u)):t.push(e):!l&&~e.indexOf("[")?(l=!0,s=[],p=e.split("["),r=p.shift()||"",u=p.join("["),u.length&&c(u)):l?~e.indexOf("]")?(l=!1,p=e.split("]"),s.push(p.shift()),n.push(r+"["+s.join(".")+"]"),u=p.join("]"),u.length&&c(u)):s.push(e):n.push(e))}),n},i.prototype.getValue=function(e,t){this.indexOpenParen=t.indexOf("("),this.indexCloseParen=t.indexOf(")"),this.indexOpenBracket=t.indexOf("["),this.indexCloseBracket=t.indexOf("]");var s=~this.indexOpenParen&&~this.indexCloseParen&&this.indexOpenParen<this.indexCloseParen,i=~this.indexOpenBracket&&~this.indexCloseBracket&&this.indexOpenBracket<this.indexCloseBracket;return this.lastVal=e,s||i?s&&(!i||this.indexOpenParen<this.indexOpenBracket)?this.handleFunction(e,t):this.handleBrackets(e,t):this.handleKey(e,t)},i.prototype.handleKey=function(e,t){return this.create&&!o(e[t])?this.createPath(e,t):this.force&&!o(e)?null:e[t]},i.prototype.handleFunction=function(e,t){var i,r=t.slice(0,this.indexOpenParen),n=t.slice(this.indexOpenParen+1,this.indexCloseParen);if(r){if(this.create&&!o(e[r]))throw new Error("KeypathSetError: cannot force create a path where a function does not exist");i=e,e=!this.force||o(e)&&o(e[r])?this.indexOpenParen+1===this.indexCloseParen?e[r].call(i):e[r].apply(i,this.parseFunctionArgs(n)):null}else i=this.lastVal||s,e=this.force&&!o(e)?null:this.indexOpenParen+1===this.indexCloseParen?e.call(i):e.apply(i,this.parseFunctionArgs(n));return t=t.slice(this.indexCloseParen+1),t?this.getValue(e,t):e},i.prototype.handleBrackets=function(e,t){var s=t.slice(0,this.indexOpenBracket),i=t.slice(this.indexOpenBracket+1,this.indexCloseBracket);if(i=r(i),o(i)){if(s){if(this.create){if(!o(e[s]))return this.createPath(e,s,i);if(!o(e[s][i]))return this.createPath(e[s],i)}e=!this.force||o(e)&&o(e[s])?e[s][i]:null}else{if(this.create&&!o(e[i]))return this.createPath(e,i);e=this.force&&!o(e)?null:e[i]}return t=t.slice(this.indexCloseBracket+1),t?this.getValue(e,t):e}return this.handleKey(e,t)},i.prototype.getLastKey=function(){var e=this.keypathSplit.pop(),t=e.lastIndexOf("["),s=e.lastIndexOf("]"),i=~t&&~s&&t<s;if(i){var o=e.slice(t+1,s);return o=r(o),e=e.slice(0,t),this.keypathSplit.push(e),o}return e},i.prototype.getLastObj=function(e,t){var s;if(0===this.keypathSplit.length)s=e[0];else{var i=Array.prototype.slice.call(e);i[1]=this.keypathSplit.join("."),s=t?this._get.apply(this,i):this.get.apply(this,i)}return s},i.prototype.createPath=function(e){var t=Array.prototype.slice.call(arguments,1);return t.reduce(function(e,s,i){return"number"==typeof t[i+1]?e[s]=[]:e[s]={},e[s]},e)},i.prototype.parseFunctionArgs=function(e){if(e=e.trim(),0===e.length)return[];if("%"===e)return this.fnArgs.pop()||[];var t,s=e.split(",").map(l),i=this;return s.map(function(e){if("%"===e)return t=t||i.fnArgs.pop()||[],e=t.pop();var s=r(e);if(s=o(s)?s:p().get(i.obj,e),o(s))return s;throw new ReferenceError('KeypatherError: Invalid function argument "'+e+'"')})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"101/is-object":"/var/www/pravo/node_modules/101/is-object.js"}],"/var/www/pravo/node_modules/ractive-transitions-fade/dist/ractive-transitions-fade.js":[function(e,t,s){!function(e,i){"object"==typeof s&&"undefined"!=typeof t?t.exports=i():"function"==typeof define&&define.amd?define(i):e.Ractive.transitions.fade=i()}(this,function(){function e(e,t){var i;t=e.processParams(t,s),e.isIntro?(i=e.getStyle("opacity"),e.setStyle("opacity",0)):i=0,e.animateStyle("opacity",i,t).then(e.complete)}var t=e,s={delay:0,duration:300,easing:"linear"};return t})},{}],"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-adfox/scripts/Adfox.js":[function(e,t,s){var i=function(){return Math.random().toString(36).substring(7)},r='{{#banner.content}}<div id="{{banner.id}}" class="b-ads b-adfox__item">{{{banner.content}}}</div>{{/banner.content}}',o=Ractive.extend({template:r,data:function(){return{uri:null,appear:null,screentype:null,banner:{id:null,content:null}}},oninit:function(){RG.logger.debug("Adfox component init")},onrender:function(){var e=this,t=e.get("screentype"),s=null;t?(s=t.split(" "),RG.events.subscribe(RG.ScreenViewer._modulePrefix+".check",function(t){e.checkForScreenType(s,RG.ScreenViewer.getScreenInfo().type,e.prepareRun.bind(e)),RG.events.subscribe(RG.ScreenViewer._modulePrefix+".update",function(t,i){e.checkForScreenType(s,i.type,e.prepareRun.bind(e))})})):e.prepareRun()},setAppear:function(e,t){},prepareUri:function(){var e=this.get("uri"),t=RG.meta.getPlatform();e=e+"&amp;dl="+t,this.set("uri",e)},initBanner:function(e,t){var s=window.ADFOX.RELOAD_CODE,r=i(),o=null,n=null;o=s.initBanner(r,e),this.set("banner.id",r),this.set("banner.content",o.html),n={tgNS:s,initData:o,uri:e},RG.logger.log(n),t?this.setAppear(r,n):this.loadBanner(n)},loadBanner:function(e){e.tgNS.loadBanner(e.initData.pr1,e.uri,e.initData.sessionId)},checkForScreenType:function(e,t,s){var i=this;$.each(e,function(e,r){r===t&&(i.get("banner.content")||s())})},prepareRun:function(){this.prepareUri(),this.initBanner(this.get("uri"),this.get("appear"))}});t.exports=o},{}],"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-search-filters/b-search-filters.ihtml":[function(e,t,s){t.exports={v:3,t:[{t:7,e:"div",a:{"class":[{t:2,x:{r:["rgb"],s:'!_0?"b-search-filters":"b-search-filters__body"'}}," ",{t:2,x:{r:["show"],s:'_0?"is-show":"is-hide"'}}," group"]},f:[{t:7,e:"div",a:{"class":"b-search-filters__wrapper b-search-filters__wrapper_theme group"},f:[{t:7,e:"div",a:{"class":"b-search-filters__name"},f:["Темы"]}," ",{t:7,e:"div",a:{"class":"b-search-filters__content"},f:[{t:4,f:[{t:7,e:"label",a:{"class":"b-field b-field_input b-field_input_checkbox"},v:{click:{n:"addFilter",a:["themes"]}},f:[{t:7,e:"div",a:{"class":"b-field__label"},f:[{t:2,r:"name"}]}," ",{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"input",a:{"class":"b-field__input b-field__input_checkbox",type:"checkbox"},m:[{t:2,x:{r:["checked"],s:'_0?"checked":""'}}]}," ",{t:7,e:"span",a:{"class":"b-field__icon"}}]}]}],i:"i",r:"filters.themes"}]}]}," ",{t:7,e:"div",a:{"class":"b-search-filters__wrapper b-search-filters__wrapper_projects group"},f:[{t:7,e:"div",a:{"class":"b-search-filters__name"},f:["Специальные проекты"]}," ",{t:7,e:"div",a:{"class":"b-search-filters__content"},f:[{t:4,f:[{t:7,e:"label",a:{"class":"b-field b-field_input b-field_input_checkbox"},v:{click:{n:"addFilter",a:["projects"]}},f:[{t:7,e:"div",a:{"class":"b-field__label"},f:[{t:2,r:"name"}]}," ",{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"input",a:{"class":"b-field__input b-field__input_checkbox",type:"checkbox"},m:[{t:2,x:{r:["checked"],s:'_0?"checked":""'}}]}," ",{t:7,e:"span",a:{"class":"b-field__icon"}}]}]}],i:"i",r:"filters.projects"}]}]}," ",{t:7,e:"div",a:{"class":"b-search-filters__wrapper b-search-filters__wrapper_period group"},f:[{t:7,e:"div",a:{"class":"b-search-filters__name"},f:["Период"]}," ",{t:7,e:"div",a:{"class":"b-search-filters__content"},f:[{t:7,e:"label",a:{"class":"b-field b-field_select b-field_select_select b-search-filters__item_select"},f:[{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"select",a:{"class":"b-field__select b-field__select_select",value:[{t:2,r:"period"}],type:"select"},v:{change:{n:"setPeriod",d:[{t:2,r:"period"}]}},f:[{t:4,f:[{t:7,e:"option",a:{value:[{t:2,r:"value"}]},f:[{t:2,r:"name"}]}],r:"filters.periods"}]}]}]}," ",{t:7,e:"label",a:{"class":"b-field b-field_input b-field_input_text b-search-filters__item_datepicker-from b-custom-datepicker_input"},f:[{t:7,e:"div",a:{"class":"b-field__label"},f:["c"]}," ",{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"input",a:{"class":"b-field__input b-field__input_text",type:"text",value:[{t:2,r:"searchFilters.from"}]},o:"date-picker"}]}]}," ",{t:7,e:"label",a:{"class":"b-field b-field_input b-field_input_text b-search-filters__item_datepicker-to b-custom-datepicker_input"},f:[{t:7,e:"div",a:{"class":"b-field__label"},f:["по"]}," ",{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"input",a:{"class":"b-field__input b-field__input_text",type:"text",value:[{t:2,r:"searchFilters.to"}]},o:"date-picker"}]}]}]}]}," ",{t:7,e:"div",a:{"class":"b-search-filters__wrapper b-search-filters__submit group"},f:[" ",{t:7,e:"label",a:{"class":["b-field b-field_input b-field_input_submit b-field_accent ",{t:2,x:{r:["loading"],s:'_0?"b-spinner":""'}}]},f:[{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"input",a:{"class":"b-field__input b-field__input_submit",type:"submit",value:"Найти",disabled:[{t:2,r:"loading"}]},v:{click:"find"}}]}]}," "]}]}]}},{}],"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-search-filters/b-search-filters_doc.ihtml":[function(e,t,s){t.exports={v:3,t:[{t:7,e:"div",a:{"class":[{t:2,x:{r:["rgb"],s:'!_0?"b-search-filters b-search-filters_doc":"b-search-filters__body"'}}," ",{t:2,x:{r:["show"],s:'_0?"is-show":"is-hide"'}}," group"]},f:[" ",{t:7,e:"div",a:{"class":"b-search-filters__wrapper b-search-filters__wrapper_doc-datepub group"},f:[{t:7,e:"div",a:{"class":"b-search-filters__name"},f:["Дата публикации"]}," ",{t:7,e:"div",a:{"class":"b-search-filters__content"},f:[{t:7,e:"label",a:{"class":"b-field b-field_input b-field_input_text b-search-filters__item_datepicker-from b-custom-datepicker_input"},v:{click:"datepiker"},f:[{t:7,e:"div",a:{"class":"b-field__label"},f:["c"]}," ",{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"input",a:{"class":"b-field__input b-field__input_text",type:"text",value:[{t:2,r:"searchFilters.from"}]},o:"date-picker"}]}]}," ",{t:7,e:"label",a:{"class":"b-field b-field_input b-field_input_text b-search-filters__item_datepicker-to b-custom-datepicker_input"},v:{click:"datepiker"},f:[{t:7,e:"div",a:{"class":"b-field__label"},f:["по"]}," ",{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"input",a:{"class":"b-field__input b-field__input_text",type:"text",value:[{t:2,r:"searchFilters.to"}]},o:"date-picker"}]}]}]}]}," ",{t:7,e:"div",a:{"class":"b-search-filters__wrapper b-search-filters__wrapper_doc-type group"},f:[{t:7,e:"div",a:{"class":"b-search-filters__name"},f:["Тип документа"]}," ",{t:7,e:"div",a:{"class":"b-search-filters__content"},f:[{t:4,f:[{t:7,e:"label",a:{"class":"b-field b-field_input b-field_input_checkbox"},v:{click:{n:"addFilter",a:["doctype"]}},f:[{t:7,e:"div",a:{"class":"b-field__label"},f:[{t:2,r:"name"}]}," ",{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"input",a:{"class":"b-field__input b-field__input_checkbox",type:"checkbox"},m:[{t:2,x:{r:["checked"],s:'_0?"checked":""'}}]}," ",{t:7,e:"span",a:{"class":"b-field__icon"}}]}]}],i:"i",r:"filters.doctype"}]}]}," ",{t:7,e:"div",a:{"class":"b-search-filters__wrapper b-search-filters__wrapper_doc-department group"},f:[{t:7,e:"div",a:{"class":"b-search-filters__name"},f:["Ведомства"]}," ",{t:7,e:"div",a:{"class":"b-search-filters__content"},f:[{t:4,f:[{t:7,e:"label",a:{"class":"b-field b-field_input b-field_input_checkbox"},v:{click:{n:"addFilter",a:["org"]}},f:[{t:7,e:"div",a:{"class":"b-field__label"},f:[{t:2,r:"name"}]}," ",{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"input",a:{"class":"b-field__input b-field__input_checkbox",type:"checkbox"},m:[{t:2,x:{r:["checked"],s:'_0?"checked":""'}}]}," ",{t:7,e:"span",a:{"class":"b-field__icon"}}]}]}],i:"i",r:"filters.org"}]}]}," ",{t:7,e:"div",a:{"class":"b-search-filters__wrapper b-search-filters__wrapper_doc-theme group"},f:[{t:7,e:"div",a:{"class":"b-search-filters__name"},f:["Тема документа"]}," ",{t:7,e:"div",a:{"class":"b-search-filters__content"},f:[{t:4,f:[{t:7,e:"label",a:{"class":"b-field b-field_input b-field_input_checkbox"},v:{click:{n:"addFilter",a:["themes"]}},f:[{t:7,e:"div",a:{"class":"b-field__label"},f:[{t:2,r:"name"}]}," ",{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"input",a:{"class":"b-field__input b-field__input_checkbox",type:"checkbox"},m:[{t:2,x:{r:["checked"],s:'_0?"checked":""'}}]}," ",{t:7,e:"span",a:{"class":"b-field__icon"}}]}]}],i:"i",r:"filters.themes"}]}]}," ",{t:7,e:"div",a:{"class":"b-search-filters__wrapper b-search-filters__submit group"},f:[" ",{t:7,e:"label",a:{"class":["b-field b-field_input b-field_input_submit ",{t:2,x:{r:["loading"],s:'_0?"b-spinner":""'}}]},f:[{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"input",a:{"class":"b-field__input b-field__input_submit",type:"submit",value:"Применить"},v:{click:"find"}}]}]}," "]}," ",{t:7,e:"div",a:{"class":"b-search-filters__wrapper b-search-filters__reset group"},f:[{t:7,e:"a",a:{"class":"b-link b-link_blue"},f:["Сбросить фильтр"]}]}]}]}},{}],"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-search-filters/scripts/SearchFilters.js":[function(e,t,s){var i=e("./config").searchFilters,r=e("./config").documentsFilters,o=e("../b-search-filters.ihtml"),n=e("../b-search-filters_doc.ihtml"),a=Ractive.extend({template:function(){return"search"===this.get("type")?o:n},data:function(){return{paper:!1,period:"any",loading:!1,hide:!1}},oninit:function(){var e=this;RG.logger.debug("SearchFilters");var t=RG.query.get(),s={};switch(this.set("searchFilters","search"===this.get("type")?{themes:[],materialTypes:[],projects:[],origin:null}:{themes:[],doctype:[],materialTypes:["doc"],statuses:[],org:[]}),this.get("type")){case"search":this.set("filters",i);break;case"document":this.set("filters",r)}this.on({addFilter:this.addFilter.bind(this),setPeriod:this.setPeriod.bind(this),paper:this.setPaper.bind(this),find:RG.events.publish.bind(RG.events,"search.find"),setOrigin:RG.events.publish.bind(RG.events,"search.filters.update",this.get("searchFilters"))}),t&&!_.isEmpty(t)&&!function(){t.projects&&(s.projects=t.projects.split(",")),t.materialTypes&&(s.materialTypes=t.materialTypes.split(",")),t.doctype&&(s.doctype=t.doctype.split(",")),t.org&&(s.org=t.org.split(",")),t.themes&&(s.themes=t.themes.split(",")),t.statuses&&(s.statuses=t.statuses.split(",")),_.isString(t.from)&&_.isString(t.to)&&(s.from=t.from,s.to=t.to);var i=e.get("filters"),r=_.extend(e.get("searchFilters"),s);e.set("searchFilters",r),_.each(i,function(e,t){_.isArray(e)&&_.each(e,function(e){"undefined"!=typeof r[t]&&r[t].indexOf(e.value)!==-1&&(e.checked=!0)})}),e.set("filters",i)}(),RG.events.subscribe("search.find",function(t){e.set("loading",!0)}),RG.events.subscribe("search.result.show",function(t){e.set("showResult",!0),e.set("loading",!1)}),RG.events.subscribe("date.picked",function(t,s){RG.logger.info(t);var i=s.get("searchFilters.from")||moment().format("DD.MM.YYYY"),r=s.get("searchFilters.to")||moment().format("DD.MM.YYYY");i=moment(new Date(i.split(".").reverse().join("/"))),r=moment(new Date(r.split(".").reverse().join("/"))),i.diff(r)>0&&(r=i),e.set("searchFilters.from",i.format("DD.MM.YYYY")),e.set("searchFilters.to",r.format("DD.MM.YYYY")),e.emitFilters()});var o=this.get("filterTopic")||"search.filters";RG.logger.log(o),RG.events.subscribe(o+".show",function(t){RG.logger.info(t+"user"),e.toggle("show")})},addFilter:function(e,t){var s=e.keypath+".checked",i=this.get("searchFilters."+t);this.toggle(s),this.get(s)?(Array.prototype.push.call(i,e.context.value),this.set("searchFilters."+t,i)):(Array.prototype.splice.call(i,_.findIndex(e.context.value),1),this.set("searchFilters."+t,i)),this.emitFilters(),e.original.preventDefault(),e.original.stopPropagation()},setPeriod:function(e,t){var s=null,i=moment().format("DD.MM.YYYY");switch(t){case"any":break;case"today":s=moment();break;case"yestarday":s=moment().subtract(1,"days"),i=moment().subtract(1,"days").format("DD.MM.YYYY");break;case"week":s=moment().subtract(1,"weeks");break;case"month":s=moment().subtract(1,"months");break;case"year":s=moment().subtract(1,"years")}this.set("searchFilters.to",i),this.set("searchFilters.from",s.format("DD.MM.YYYY")),this.emitFilters(),e.original.preventDefault(),e.original.stopPropagation()},setPaper:function(e){this.toggle("paper"),e.original.preventDefault(),e.original.stopPropagation()},emitFilters:function(){var e=_.objFilter(this.get("searchFilters"),function(e){return!_.isEmpty(e)});RG.events.publish("search.filters.update",e)}});t.exports=a},{"../b-search-filters.ihtml":"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-search-filters/b-search-filters.ihtml","../b-search-filters_doc.ihtml":"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-search-filters/b-search-filters_doc.ihtml","./config":"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-search-filters/scripts/config.js"}],"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-search-filters/scripts/config.js":[function(e,t,s){var i={documentsFilters:{themes:[{value:"tema/gos",name:"Власть"},{value:"tema/ekonomika",name:"Экономика"},{value:"tema/regional",name:"В регионах"},{value:"tema/mir",name:"В мире"},{value:"tema/bezopasnost",name:"Происшествия"},{value:"tema/obshestvo",name:"Общество"},{value:"tema/sport",name:"Спорт"},{value:"tema/kultura",name:"Культура"}],org:[{name:"Все ведомства",value:"all",check:!0},{name:"Президент",value:"org/prezident",subDepartments:[{name:"Администрация Президента",value:"org/prezident/admin"},{name:"Совет Безопасности",value:"org/prezident/sovbez"},{name:"Государственный Совет",value:"org/prezident/gossovet"},{name:"Полпреды Президента в федеральных округах",value:"org/prezident/polpred"},{name:"Главное управление специальных программ",value:"org/prezident/gusp"},{name:"Общественная палата",value:"org/prezident/palata"},{name:"Совет по правам человека",value:"org/prezident/sovet"},{name:"Уполномоченный по правам ребенка",value:"org/prezident/detombudsmen"},{name:"Уполномоченный по правам человека",value:"org/prezident/prava"},{name:"Управление делами Президента",value:"org/prezident/upravdelami"}]},{name:"Законодательная власть",value:"org/zakon",subDepartments:[{name:"Госдума",value:"org/zakon/gosduma"},{name:"Совет Федерации",value:"org/zakon/sovfed"}]},{name:"Правительство",value:"org/pravitelstvo",subDepartments:[{name:"Председатель Правительства",value:"org/pravitelstvo/premier"},{name:"Вице-премьеры",value:"org/pravitelstvo/vicepremijery"},{name:"Президиум",value:"org/pravitelstvo/prezidium"},{name:"Аппарат Правительства",value:"org/pravitelstvo/apparat"},{name:"Министерство иностранных дел",value:"org/pravitelstvo/mid"},{name:"Государственная фельдъегерская служба (ГФС)",value:"org/pravitelstvo/feldegeri"},{name:"Служба внешней разведки (СВР)",value:"org/pravitelstvo/razvedka"},{name:"Федеральная служба охраны (ФСО)",value:"org/pravitelstvo/fso"},{name:"Федеральная служба по финансовому мониторингу (Росфинмониторинг)",value:"org/pravitelstvo/fedmonitoring"},{name:"Генеральная прокуратура",value:"org/pravitelstvo/genprok"},{name:"Следственный комитет (СК)",value:"org/pravitelstvo/sledkom"},{name:"Министерство культуры",value:"org/pravitelstvo/minkultmk"},{name:"Министерство по делам Крыма",value:"org/pravitelstvo/minkrym"},{name:"Министерство по делам Северного Кавказа",value:"org/pravitelstvo/minsevkavkaz"},{name:"Министерство по развитию Дальнего Востока",value:"org/pravitelstvo/daliniy"},{name:"Министерство спорта",value:"org/pravitelstvo/minsport"},{name:"Министерство строительства и жилищно-коммунального хозяйства (Минстрой)",value:"org/pravitelstvo/stroitelstvozhkh"},{name:"Министерство транспорта",value:"org/pravitelstvo/mintranssvyaz"},{name:"Министерство труда и социальной защиты",value:"org/pravitelstvo/trud"},{name:"Министерство энергетики",value:"org/pravitelstvo/minenergo"},{name:"Федеральная антимонопольная служба (ФАС)",value:"org/pravitelstvo/fedantimonopol"},{name:"Федеральная служба государственной статистики (Росстат)",value:"org/pravitelstvo/statistika"},{name:"Федеральная миграционная служба (ФМС)",value:"org/pravitelstvo/migracia"},{name:"Федеральная служба по надзору в сфере защиты прав потребителей и благополучия человека (Роспотребнадзор)",value:"org/pravitelstvo/potrebnadzor"},{name:"Рособоронзаказ",value:"org/pravitelstvo/oboronzakaz"},{name:"Федеральная служба по регулированию алкогольного рынка (Росалкогольрегулирование)",value:"org/pravitelstvo/posalk"},{name:"Федеральная служба по финансовым рынкам (ФСФР)",value:"org/pravitelstvo/fktsb"},{name:"Федеральная служба по экологическому, технологическому и атомному надзору (Ростехнадзор)",value:"org/pravitelstvo/atom"},{name:"Федеральное космическое агентство (Роскосмос)",value:"org/pravitelstvo/kosmos"},{name:"Федеральное агентство по обустройству государственной границы (Росграница)",value:"org/pravitelstvo/rosgranica"},{name:"Федеральное агентство научных организаций (ФАНО)",value:"org/pravitelstvo/fano"},{name:"Министерство внутренних дел",value:"org/pravitelstvo/mvd"},{name:"Министерство по чрезвычайным ситуациям",value:"org/pravitelstvo/emercom"},{name:"Министерство обороны",value:"org/pravitelstvo/minoboroni"},{name:"Министерство юстиции",value:"org/pravitelstvo/minyust"},{name:"Федеральная служба безопасности (ФСБ)",value:"org/pravitelstvo/fsb"},{name:"Федеральная служба по контролю за оборотом наркотиков (ФСКН)",value:"org/pravitelstvo/narkomitet"},{name:"Министерство здравоохранения и социального развития",value:"org/pravitelstvo/minzdravsoc"},{name:"Министерство образования и науки",value:"org/pravitelstvo/minobrnauka"},{name:"Министерство природных ресурсов и экологии",value:"org/pravitelstvo/minprirody"},{name:"Министерство промышленности и торговли",value:"org/pravitelstvo/minpromenergo"},{name:"Министерство регионального развития",value:"org/pravitelstvo/minreg"},{name:"Министерство связи и массовых коммуникаций",value:"org/pravitelstvo/svyazj"},{name:"Министерство сельского хозяйства",value:"org/pravitelstvo/minselhoz"},{name:"Министерство финансов",value:"org/pravitelstvo/minfin"},{name:"Министерство экономического развития",value:"org/pravitelstvo/minekonom"},{name:"Федеральная таможенная служба (ФТС)",value:"org/pravitelstvo/fts"},{name:"Федеральная служба по тарифам (ФСТ)",value:"org/pravitelstvo/slujba-tarif"}]},{name:"Судебная власть",value:"org/sudvlast",subDepartments:[{name:"Конституционный суд",value:"org/sudvlast/konstsud"},{name:"Верховный суд",value:"org/sudvlast/sudobshyurisdik/verhsud"},{name:"Суды общей юрисдикции",value:"org/sudvlast/sudobshyurisdik"},{name:"Военные суды",value:"org/sudvlast/voensud"}]},{name:"Госфонды и контрольные органы",value:"org/goskontrol",subDepartments:[{name:"Агентство стратегических инициатив",value:"org/goskontrol/asi"},{name:"Российский фонд прямых инвестиций",value:"org/goskontrol/investicii"},{name:"Российский фонд федерального имущества (РФФИ)",value:"org/goskontrol/gosfond"},{name:"Счетная палата",value:"org/goskontrol/schet"},{name:"Пенсионный фонд",value:"org/goskontrol/pensii"},{name:"Федеральный фонд обязательного медицинского страхования",value:"org/goskontrol/ffomc"},{name:"Фонд социального страхования",value:"org/goskontrol/sotcial"},{name:"Центральная избирательная комиссия",value:"org/goskontrol/cik"},{name:"Центральный банк России",value:"org/goskontrol/zbrf"}]}],doctype:[{name:"Все типы",value:"any"},{name:"Федеральный закон",value:"fedzakon"},{name:"Постановление",value:"postanov"},{name:"Указ",value:"ukaz"},{name:"Приказ",value:"prikaz"},{name:"Сообщение",value:"soobshenie"},{name:"Распоряжение",value:"raspr"},{name:"Законопроект",value:"zakonoproekt"}],statuses:[{value:"publishing",name:"Опубликован"},{value:"effective",name:"Вступает в силу"},{value:"lost",name:"Утратил силу"}]},searchFilters:{themes:[{value:"tema/gos",name:"Власть"},{value:"tema/ekonomika",name:"Экономика"},{value:"tema/regional",name:"В регионах"},{value:"tema/mir",name:"В мире"},{value:"tema/bezopasnost",name:"Происшествия"},{value:"tema/obshestvo",name:"Общество"},{value:"tema/sport",name:"Спорт"},{value:"tema/kultura",name:"Культура"}],materialTypes:[{value:"art",name:"Новости"},{value:"dok",name:"Документы"},{value:"fot",name:"Фоторепортажи"}],origins:[{value:"rg",name:"Российская газета"},{value:"rodina",name:"Родина"}],projects:[{value:"sila",name:"Русское оружие"},{value:"digital",name:"Digital"},{value:"kino",name:"Кинократия"}],periods:[{value:"any",name:"Любой"},{value:"today",name:"За сегодня"},{value:"yestarday",name:"За вчера"},{value:"week",name:"За неделю"},{value:"month",name:"За месяц"},{value:"year",name:"За год"}]}};t.exports=i},{}],"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-search-form/b-search-bar.ihtml":[function(e,t,s){t.exports={v:3,t:[{t:7,e:"div",a:{"class":"b-search-bar"},f:[{t:7,e:"form",a:{"class":"b-form b-search-bar__form"},f:[{t:7,e:"fieldset",a:{"class":"b-form__fieldset"},f:[" ",{t:7,e:"label",a:{"class":"b-field b-field_input b-field_input_text"},f:[{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"input",a:{"class":"b-field__input b-field__input_text",type:"text",id:"searchInput",value:[{t:2,r:"keywords"}]}}]}]}," ",{t:7,e:"label",a:{"class":["b-field b-field_input b-field_input_submit b-field_accent ",{t:2,x:{r:["loading"],s:'_0?"b-spinner":""'}}]},f:[{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"i",a:{"class":"b-icon b-icon_type_search",type:"submit",value:"Найти",disabled:[{t:2,r:"loading"}],twoway:"false"},v:{click:"find"}}]}]}," "]}]}]}]}},{}],"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-search-form/scripts/SearchBar.js":[function(e,t,s){var i=e("../b-search-bar.ihtml"),r=Ractive.extend({template:i,data:function(){return{keywords:"",type:null}},oninit:function(){var e=this;RG.logger.debug("SearchBar"),this.on({find:function(e){RG.events.publish("search.bar.find"),e.original.preventDefault(),e.original.stopPropagation()}}),this.observe("keywords",function(t,s){_.isEmpty(t.trim())||_.isEmpty(s.trim())||t.trim()===s.trim()||RG.events.publish("search.filters.update",{keywords:e.get("keywords")})}),RG.events.subscribe("search.keywords",function(t,s){var i=s||"";e.set("keywords",i)}),RG.events.subscribe("search.find",function(t){e.set("loading",!0)}),RG.events.subscribe("search.result.show",function(t){e.set("loading",!1)}),RG.events.subscribe("search.bar.find",function(t){switch(RG.logger.info("search.bar.find"),e.get("type")){case"redirect":var s=e.get("keywords");window.location=encodeURI(window.location.origin+"/search/?keywords="+s);break;default:RG.events.publish("search.find")}})},onrender:function(){this.nodes.searchInput.focus()}});t.exports=r},{"../b-search-bar.ihtml":"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-search-form/b-search-bar.ihtml"}],"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-search-info/scripts/SearchInfo.js":[function(e,t,s){var i=e("../search-info.ihtml"),r=Ractive.extend({template:i,data:function(){return{sort:!1}},oninit:function(){var e=this;RG.logger.debug("SearchInfo"),this.on({sort:function t(s){var t=e.get("sort")?"date":"relevant";RG.events.publish("search.sort",t),e.toggle("sort"),s.original.preventDefault(),s.original.stopPropagation()}}),RG.events.subscribe("search.result.show",function(t,s){e.set("showResult",!0),e.set("materials",s.count)})}});t.exports=r},{"../search-info.ihtml":"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-search-info/search-info.ihtml"}],"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-search-info/search-info.ihtml":[function(e,t,s){t.exports={v:3,t:[{t:4,f:[{t:7,e:"div",a:{"class":[{t:2,x:{r:["rgb"],s:'!_0?"b-search-info":"b-search-info__body"'}}," group"]},f:[{t:7,e:"div",a:{"class":"b-search-info__sort"},f:["Сортировать: ",{t:7,e:"a",a:{"class":"b-search-info__link b-link b-link_blue",href:"#"},v:{click:"sort"},f:[{t:2,x:{r:["sort"],s:'_0?"По алфавиту":"По рейтингу"'}}]}]}]}],r:"showResult"}]}},{}],"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-share/scripts/share.js":[function(e,t,s){t.exports=Ractive.extend({template:'<div class="b-share__body {{ classes }}">\n                    {{#if content }}<div class="b-share__content b-share__item">{{{content}}}</div>{{/if}}\n                    <div class="b-share_ya-share b-share__item" decorator="yandexShare"></div>\n                </div>',
decorators:{yandexShare:function(e){var t=window.Ya||null,s=null,i={theme:{services:"facebook,twitter,vkontakte,odnoklassniki,gplus",lang:"ru",size:"s"}};return i=$.extend(!0,{},i,this.get("options")),t&&t.share2&&(s=t.share2(e,i)),this.set("share",s),{teardown:function(){$(e).destroy()}}}},data:function(){return{owner:null,options:null,content:null,classes:"b-share_horizontal"}},oninit:function(){},onrender:function(){var e=this;RG.events.subscribe(this.get("owner"),function(t,s){if(s)try{e.get("share").updateContent({url:s.url||"",title:s.title||"",description:s.description||"",image:s.image||""})}catch(i){RG.logger.error("Share не может обновить данные"),RG.logger.error(i)}})}})},{}],"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-tabs/scripts/Tabs.js":[function(e,t,s){var i=e("../tabs.ihtml"),r=Ractive.extend({template:i,data:function(){return{selected:0,items:[]}},oninit:function(){RG.logger.debug("Tabs")},onrender:function(){var e=this,t=this.get("selected"),s=this.findAll(".b-tabs__item")[t],i=_.debounce(function(t,s){var i=e.get("items"),r=_.findIndex(i,s),o=s.topic||"tab.click.${index}",n=s.data||null;e.set("selected",r),e.setPosition(t.node),RG.events.publish(o,n)},500);this.setPosition(s),this.on("select",i),RG.events.subscribe("tab.selected.set",function(t,s){RG.logger.info(t),e.setPosition(s)})},setPosition:function(e){if(e){var t=$(e),s=t.position().left,i=t.width();this.set("left",s),this.set("width",i)}}});t.exports=r},{"../tabs.ihtml":"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-tabs/tabs.ihtml"}],"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-tabs/tabs.ihtml":[function(e,t,s){t.exports={v:3,t:[{t:7,e:"div",a:{"class":"b-tabs"},f:[{t:7,e:"div",a:{"class":"b-tabs__item b-tabs__item_underline",style:["left: ",{t:2,r:"left"},"px; width: ",{t:2,r:"width"},"px;"]}}," ",{t:4,f:[{t:7,e:"div",a:{"class":["b-tabs__item ",{t:2,x:{r:["item.class","i"],s:'_0?_0:"b-tab__item_"+_1'}}]},v:{click:{n:"select",d:[{t:2,r:"."}]}},f:[{t:7,e:"div",a:{"class":["b-tabs__title ",{t:2,x:{r:["i","selected"],s:'_0===_1?"b-tab__title_selected":""'}}]},f:[{t:3,r:"title"}]}]}],i:"i",r:"items"}]}]}},{}],"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-yadirect/scripts/Yadirect.js":[function(e,t,s){var i=function(e,t){function s(e,t){return Math.random()*(t-e)+e}var i=null,r=0,o=t.list,n=0,a=e.length;for(i=s(0,t.fullRate);n<a;n++)if(r+=o[n],r=+r,i<=r)return e[n]},r=function(e){var t=null,s={mobile:1,tablet:2,tabletLandscape:3,desktop:4,desktopFull:5};return t=[e.project,e.place,e.id,s[e.screenInfo.type]],t.join("")},o='<div id="{{banner.containerId}}" class="ya-direct-root ya-direct-{{banner.yaDirect.type}}"></div>',n=Ractive.extend({template:o,data:function(){return{project:null,place:null,items:null,screenInfo:null}},oninit:function(){RG.logger.debug("Yadirect component init")},onrender:function(){var e=this;RG.events.subscribe(RG.ScreenViewer._modulePrefix+".check",function(t){e.set("screenInfo",RG.ScreenViewer.getScreenInfo()),e.initDirect(),RG.events.subscribe(RG.ScreenViewer._modulePrefix+".update",function(t,s){e.set("screenInfo",RG.ScreenViewer.getScreenInfo()),e.initDirect()})})},initDirect:function(){var e=this,t=this.get("items"),s="29789",o=e.get("screenInfo"),n=null,a=null,l=null;$.each(t,function(t,c){var u=c.resolution,p=null;u[o.type]?(p=c.blocks,n=i(p,e.getRateMap(p)),l=n.yaDirect,a=l.ad_format+"_"+l.type+"_"+n.id+"_"+Math.random().toString(36).substring(7),e.set("banner.containerId",a),e.set("banner.yaDirect",l),window.yandex_context_callbacks=window.yandex_context_callbacks||[],l.stat_id=r({project:e.get("project"),screenInfo:o,id:n.id,place:e.get("place")}),RG.logger.log(l),window.yandex_context_callbacks.push(function(){Ya.Direct.insertInto(s,a,l)}),e.loadLib()):$("#"+e.get("banner.containerId")).empty()})},loadLib:function(){var e="//an.yandex.ru/system/context.js";$.getScript(e)},getRateMap:function(e){var t={};return t.fullRate=0,t.list=[],$.each(e,function(e,s){var i=s.rate;t.list.push(i),t.fullRate+=i}),t}});t.exports=n},{}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-button/b-button.ihtml":[function(e,t,s){t.exports={v:3,t:[{t:7,e:"div",a:{"class":"b-button"},f:[{t:7,e:"button",a:{"class":"b-button__button b-field__input_submit"},v:{click:"press"},f:[{t:2,r:"txt"}]}]}]}},{}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-button/scripts/Button.js":[function(e,t,s){var i=e("../b-button.ihtml"),r=Ractive.extend({template:i,oninit:function(){var e=this;this.on("press",function(t){var s=e.get(),i=e.get("topic");RG.events.publish(i,s),t.original.preventDefault()})}});t.exports=r},{"../b-button.ihtml":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-button/b-button.ihtml"}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-checkbox/b-checkbox.ihtml":[function(e,t,s){t.exports={v:3,t:[{t:7,e:"label",a:{"class":["b-field b-field_input b-field_input_checkbox ",{t:2,x:{r:["highlighted"],s:'_0?"b-field_input_checkbox_highlighted":""'}}," ",{t:2,x:{r:["required"],s:'_0?"b-field_required":""'}}]},v:{click:"toggle"},f:[{t:7,e:"div",a:{"class":"b-field__label"},f:[{t:3,r:"label"}]}," ",{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"input",a:{"class":"b-field__input b-field__input_checkbox",type:"checkbox"},m:[{t:2,x:{r:["value"],s:'_0?"checked":""'}}]}," ",{t:7,e:"span",a:{"class":"b-field__icon"}}]}]}]}},{}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-checkbox/scripts/Checkbox.js":[function(e,t,s){var i=e("../../b-form/scripts/FormTools"),r=e("../b-checkbox.ihtml"),o=Ractive.extend(i,{template:r,data:function(){return{name:"checkbox",highlight:!0,highlighted:!1}},oninit:function(){var e=this,t=this.get("form"),s=this.get("name");RG.events.subscribe("form."+t+".set."+s,function(t,s){e.set("value",s)}),this.on("toggle",function(i){e.toggle("value"),RG.events.publish("form."+t+".update."+s,e.get("value")),i.original.preventDefault()})},reset:function(){this.set("value",!1)},check:function(){return!this.get("required")||this.get("value")}});t.exports=o},{"../../b-form/scripts/FormTools":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-form/scripts/FormTools.js","../b-checkbox.ihtml":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-checkbox/b-checkbox.ihtml"}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-email/scripts/Email.js":[function(e,t,s){var i=e("../../b-input/scripts/Input"),r=i.extend({data:function(){return{name:"email",type:"email",placeholder:"e-mail",format:"email",label:""}}});t.exports=r},{"../../b-input/scripts/Input":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-input/scripts/Input.js"}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-form-message/b-form-message.ihtml":[function(e,t,s){t.exports={v:3,t:[{t:7,e:"div",a:{"class":["b-form-message b-form-message",{t:2,x:{r:["show"],s:'_0?"_show":""'}}]},f:[{t:7,e:"div",a:{"class":"b-form-message__content"},f:[{t:7,e:"p",a:{"class":"b-form-message__title"},f:[{t:3,r:"title"}]}," ",{t:7,e:"p",a:{"class":"b-form-message__text"},f:[{t:3,r:"txt"}]}," ",{t:7,e:"div",a:{"class":"b-form-message__button"},f:[{t:7,e:"rg-button",a:{txt:[{t:2,r:"button"}],topic:["'form.",{t:2,r:"form"},".message.hide'"]}}]}]}]}]}},{}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-form-message/scripts/FormMessage.js":[function(e,t,s){var i=e("../../b-button/scripts/Button.js"),r=e("../b-form-message.ihtml"),o=Ractive.extend({template:r,components:{"rg-button":i},oninit:function(){var e=this,t=this.get("form");RG.events.subscribe("form."+t+".message.show",function(t){RG.logger.info(t),e.set("show",!0)}),RG.events.subscribe("form."+t+".message.hide",function(t){RG.logger.info(t),e.set("show",!1)})}});t.exports=o},{"../../b-button/scripts/Button.js":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-button/scripts/Button.js","../b-form-message.ihtml":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-form-message/b-form-message.ihtml"}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-form/scripts/Form.js":[function(e,t,s){var i=function(){function e(t){_classCallCheck(this,e),RG.logger.debug("Form"),this.el=t.el,this.options=t.data||{},this.template=t.data.template,this.formData={};var s=[];return _.isEmpty(this.options.tmpl)||(this.template=this._getTemplate(this.options.tmpl)),_.isEmpty(this.template)?(s=RG.parser.findComponents(this.el),this.registerEvents(s),this.fields=this.renderComponents(s),void 0):this.renderForm()}return _createClass(e,[{key:"updateFormData",value:function(e,t){RG.logger.info(e);var s=e.split(".").pop();this.formData[s]=t}},{key:"setFormData",value:function(e){var t=this;!_.isEmpty(e)&&this.fields.length&&_.each(e,function(e,s){RG.events.publish("form."+t.options.name+".set."+s,e)})}},{key:"getFormData",value:function(){var e={};return this.fields.length&&_.each(this.fields,function(t){var s=t.get("name"),i=t.get("value");!_.isEmpty(s)&&i&&(e[s]=i)}),e.form_id=parseInt(this.options.id),e.article_id=RG.meta.getMaterial()||0,e.user_id=RG.session.getUserData().id||0,e}},{key:"renderForm",value:function(){var e=this;this.form=new Ractive({data:this.options,el:this.el,template:this.template});var t=this.form.findAllComponents();return this.fields=_.filter(t,function(t){return t.form===e.name}),RG.forms[this.options.name]=this,this.form}},{key:"renderComponents",value:function(e){var t=[];return e.length&&_.each(e,function(e){var s=RG.parser.render(e.tag);t=t.concat(s)}),t}},{key:"registerEvents",value:function(e){var t=this;RG.events.subscribe("form."+this.options.name+".submit",this._submit.bind(this)),_.each(e,function(e){RG.events.subscribe("form."+t.options.name+".update."+e.data.name,t.updateFormData.bind(t))})}},{key:"validate",value:function(){var e=this.fields,t=this.fields.length,s=!0;if(t)for(var i=0;i<t;i++)_.isFunction(e[i].validate)&&(e[i].validate(s)||(s=!1));return s}},{key:"_getTemplate",value:function(e){var t="";return $.ajax({url:e,success:function(e){t=e},async:!1}),t}},{key:"_submit",value:function(e,t){var s=this;if(RG.logger.info(e),$(".js-ask-submit").addClass("disabled"),t.form===this.options.name&&this.validate()){var i=this.options.method;this.formData=this.getFormData(this.options.id),RG.logger.trace(this.formData),"get"!==i&&"post"!==i||$[i](this.options.action,this.formData).then(function(e){s.options.empty&&RG.events.publish("form."+s.options.name+".empty"),RG.events.publish("form."+s.options.name+".message.show",e),_.each(s.fields,function(e){_.isFunction(e.resetField)&&e.resetField()})})}}}]),e}();t.exports=i},{}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-form/scripts/FormTools.js":[function(e,t,s){var i=Ractive.extend({checkMaxLength:function(e,t){var s=this,i=this.get("maxlength.size"),r=this.get("maxlength.backward");this.observe("value",function(o,n){_.isEmpty(o)||o===n?(r?s.set("enteredValueLength",i):s.set("enteredValueLength",0),RG.events.publish("form."+e+"."+t+".reached.zero",o)):(r?s.set("enteredValueLength",i-o.length):s.set("enteredValueLength",o.length),o.length>=i&&RG.events.publish("form."+e+"."+t+".reached.max",o),RG.events.publish("form."+e+".update."+t,o))})},validate:function(e){return this.check()?!this.highlight(!1):(e&&this.showMsg(),$(".js-ask-submit").removeClass("disabled"),!this.highlight(!0))},showMsg:function(){var e=null,t=this.get("error"),s=this.get("type");e=t?t:RG.config.messages[s+"NotValid"]||RG.config.messages.inputNotValid,this.set("errorMsg",null),this.set("errorMsg",e)},highlight:function(e){return this.get("highlight")&&this.set("highlighted",e),e},resetField:function(){"submit"!==this.get("type")&&(this.set("value",null),$(".b-field__select option").each(function(){+$(this).attr("value")||$(this).prop("selected",!0)}),$(".js-ask-submit").removeClass("disabled"))}});t.exports=i},{}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-input-notification/b-input-notification.ihtml":[function(e,t,s){t.exports={v:3,t:[{t:4,f:[{t:7,e:"div",t0:"fade",a:{"class":["b-input-notification ",{t:2,r:"class"}]},v:{click:"notify"},f:[{t:7,e:"p",a:{"class":"b-input-notification__msg"},f:[{t:3,r:"msg"}]}]}],r:"show"}]}},{}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-input-notification/scripts/InputNotification.js":[function(e,t,s){var i=e("../b-input-notification.ihtml"),r=Ractive.extend({template:i,timeOut:null,data:{msg:"",show:!1,"class":""},oninit:function(){RG.logger.debug("InputNotification"),this.observe("msg",this.showMsg.bind(this))},showMsg:function(e){var t=this;RG.logger.trace("notification"),clearTimeout(this.timeOut),""!==this.get("msg")&&(this.set("show",!0),this.timeOut=setTimeout(function(){t.set("show",!1)},this.get("off"))),this.on("notify",function(e){RG.events.publish("notification.click")})}});t.exports=r},{"../b-input-notification.ihtml":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-input-notification/b-input-notification.ihtml"}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-input/b-input.ihtml":[function(e,t,s){t.exports={v:3,t:[{t:7,e:"label",a:{"class":["b-field b-field_input b-field_input_text ",{t:2,x:{r:["highlighted"],s:'_0?"b-field_input_text_highlighted":""'}}," b-field_input_",{t:2,r:"type"}," ",{t:2,x:{r:["required"],s:'_0?"b-field_required":""'}}]},f:[{t:4,f:[{t:7,e:"div",a:{"class":"b-field__label"},f:[{t:3,r:"label"}]}],r:"label"}," ",{t:4,f:[{t:4,f:[{t:4,f:[{t:7,e:"div",a:{"class":"b-field__maxlength"},f:[{t:2,r:"enteredValueLength"},"/",{t:2,r:"size"}]}],n:51,r:"backward"}," ",{t:4,f:[{t:7,e:"div",a:{"class":"b-field__maxlength"},f:["Осталось символов: ",{t:2,r:"enteredValueLength"}]}],r:"backward"}],r:"show"}],r:"maxlength"}," ",{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"input-notification",a:{msg:[{t:2,r:"errorMsg"}],off:"5000"}}," ",{t:7,e:"input",a:{name:[{t:2,r:"name"}],"class":["b-field__input b-field__input_text b-field__input_",{t:2,r:"type"}],type:[{t:2,r:"type"}],placeholder:[{t:2,r:"placeholder"}],value:[{t:2,r:"value"}]},m:[{t:4,f:['maxlength="',{t:2,r:"size"},'"'],r:"maxlength"}]}]}]}]}},{}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-input/scripts/Input.js":[function(e,t,s){var i=e("../../b-input-notification/scripts/InputNotification"),r=e("../../b-form/scripts/FormTools"),o=e("../b-input.ihtml"),n=Ractive.extend(r,{template:o,components:{"input-notification":i},data:function(){return{highlight:!0,highlighted:!1,type:"text",name:"input"}},oninit:function(){var e=this,t=this.get("form"),s=this.get("name");this.get("maxlength.size"),this.get("maxlength.backward");RG.events.subscribe("form."+t+".set."+s,function(t,s){e.set("value",s)}),this.observe("value",function(e,i){_.isEmpty(e)||e===i||RG.events.publish("form."+t+".update."+s,e)}),this.checkMaxLength(t,s)},check:function(){var e=this.get("pattern")||/.+/gi,t=this.get("format"),s=this.get("value");return t&&(e=RG.config.formats[t]),!this.get("required")||e.test(s)}});t.exports=n},{"../../b-form/scripts/FormTools":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-form/scripts/FormTools.js","../../b-input-notification/scripts/InputNotification":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-input-notification/scripts/InputNotification.js","../b-input.ihtml":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-input/b-input.ihtml"}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-name/scripts/Name.js":[function(e,t,s){var i=e("../../b-input/scripts/Input"),r=i.extend({data:function(){return{name:"name",type:"text",placeholder:"Имя",format:"name"}}});t.exports=r},{"../../b-input/scripts/Input":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-input/scripts/Input.js"}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-select/b-select.ihtml":[function(e,t,s){t.exports={v:3,t:[{t:7,e:"label",a:{"class":["b-field b-field_select b-field_select_select ",{t:2,x:{r:["highlighted"],s:'_0?"b-field_select_highlighted":""'}}," ",{t:2,x:{r:["required"],s:'_0?"b-field_required":""'}}]},f:[{t:4,f:[{t:7,e:"div",a:{"class":"b-field__label"},f:[{t:2,r:"label"}]}],r:"label"}," ",{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"select",a:{"class":"b-field__select b-field__select_select",value:[{t:2,r:"selectedOption"}],type:"select"},v:{change:"select"},f:[{t:4,f:[{t:4,f:[{t:4,f:[{t:7,e:"option",a:{value:[{t:2,r:"value"}]},f:[{t:3,r:"content"}]}],n:50,x:{r:["value"],s:"_0!==null&&_0!==undefined"}},{t:4,n:51,f:[{t:7,e:"option",a:{value:[{t:2,r:"."}]},f:[{t:3,r:"content"}]}],x:{r:["value"],s:"_0!==null&&_0!==undefined"}}],r:"isObject"}," ",{t:4,f:[{t:7,e:"option",a:{value:[{t:2,r:"."}]},f:[{t:3,r:"."}]}],n:51,r:"isObject"}],r:"items"}]}]}]}]}},{}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-select/scripts/Select.js":[function(e,t,s){var i=e("../b-select.ihtml"),r=e("../../b-form/scripts/FormTools"),o=Ractive.extend(r,{template:i,data:function(){return{items:[],selectedOption:null,name:"select",isObject:!0,highlight:!0,highlighted:!1}},oninit:function(){RG.logger.debug("Select");var e=this;this.get("items");$("rg-select").hasClass("js-ask-form-select")&&$.ajax({url:"https://pravo.rg.ru/ask/?format=json",success:function(t){var s=e.get("items"),i=t.rubrics,r=null;r=s.concat(i),e.set("items",r)},error:function(e){console.log(e)}})},onrender:function(){var e=this,t=this.get("items");this.set("isObject",_.isObject(t[0])),this.on({select:function(t){var s=e.get("selectedOption"),i=e.get("form"),r=e.get("name");s&&(s.href&&"#"!==s.href?document.location.href=s.href:s.topic?RG.events.publish(s.topic,s):RG.events.publish("form."+i+".update."+r,s),e.set("value",s)),t.original.preventDefault()}})},check:function(){return console.log(this),!this.get("required")||this.get("value")}});t.exports=o},{"../../b-form/scripts/FormTools":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-form/scripts/FormTools.js","../b-select.ihtml":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-select/b-select.ihtml"}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-submit/b-submit.ihtml":[function(e,t,s){t.exports={v:3,t:[{t:7,e:"label",a:{"class":"b-field b-field_type_comment b-field_input b-field_input_submit js-ask-submit"},f:[{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"input",a:{"class":"b-field__input b-field__input_submit",type:"submit",value:[{t:2,r:"text"}]},v:{click:"submit"}}]}]}]}},{}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-submit/scripts/Submit.js":[function(e,t,s){var i=e("../b-submit.ihtml"),r=Ractive.extend({template:i,data:function(){return{type:"submit"}},oninit:function(){var e=this;this.on("submit",function(t){var s=e.get(),i=e.get("form");RG.events.publish("form."+i+".submit",s)})}});t.exports=r},{"../b-submit.ihtml":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-submit/b-submit.ihtml"}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-textarea/b-textarea.ihtml":[function(e,t,s){t.exports={v:3,t:[{t:7,e:"label",a:{"class":["b-field b-field_textarea b-field_textarea_textarea ",{t:2,x:{r:["highlighted"],s:'_0?"b-field_textarea_highlighted":""'}}," ",{t:2,x:{r:["required"],s:'_0?"b-field_required":""'}}]},f:[{t:4,f:[{t:7,e:"div",a:{"class":"b-field__label"},f:[{t:2,r:"label"}]}],r:"label"}," ",{t:4,f:[{t:4,f:[{t:4,f:[{t:7,e:"div",a:{"class":"b-field__maxlength"},f:[{t:2,r:"enteredValueLength"},"/",{t:2,r:"size"}]}],n:51,r:"backward"}," ",{t:4,f:[{t:7,e:"div",a:{"class":"b-field__maxlength"},f:["Осталось символов: ",{t:2,r:"enteredValueLength"}]}],r:"backward"}],r:"show"}],r:"maxlength"}," ",{t:7,e:"div",a:{"class":"b-field__wrapper"},f:[{t:7,e:"textarea",a:{name:[{t:2,r:"name"}],"class":"b-field__textarea b-field__textarea_textarea",placeholder:[{t:2,r:"placeholder"}],value:[{t:2,r:"value"}]},m:[{t:4,f:['maxlength="',{t:2,r:"size"},'"'],r:"maxlength"}]}]}]}]}},{}],"/var/www/pravo/www/app/Resources/public/blocks/forms/b-textarea/scripts/Textarea.js":[function(e,t,s){var i=e("../../b-input-notification/scripts/InputNotification"),r=e("../../b-form/scripts/FormTools"),o=e("../b-textarea.ihtml"),n=Ractive.extend(r,{template:o,components:{"input-notification":i},data:function(){return{name:"textarea",highlight:!0,highlighted:!1}},oninit:function(){var e=this,t=this.get("form"),s=this.get("name");RG.events.subscribe("form."+t+".set."+s,function(t,s){e.set("value",s)}),this.observe("value",function(e,i){_.isEmpty(e)||e===i||RG.events.publish("form."+t+".update."+s,e)}),this.checkMaxLength(t,s)},check:function(){var e=this.get("value");return!this.get("required")||!_.isEmpty(e)}});t.exports=n},{"../../b-form/scripts/FormTools":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-form/scripts/FormTools.js","../../b-input-notification/scripts/InputNotification":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-input-notification/scripts/InputNotification.js","../b-textarea.ihtml":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-textarea/b-textarea.ihtml"}],"/var/www/pravo/www/app/Resources/public/blocks/header/b-menu/scripts/b-menu.js":[function(e,t,s){$(document).ready(function(){function e(){var e=$("#js-mobile-menu"),t=$(".b-menu-mobile");e.on("click tap",function(e){t.toggle(),e.stopPropagation()}),$(document).on("click tap",function(e){0===t.has(e.target).length&&t.hide()})}function t(){var e=$("#js-search-icon");$("#cboxOverlay"),$("#js-search-bar");e.on("click",function(e){RG.events.publish("search.overlay.show"),e.preventDefault(),e.stopPropagation()})}e(),t()})},{}],"/var/www/pravo/www/app/Resources/public/blocks/main/b-live-reload/scripts/LiveReload.js":[function(e,t,s){var i=Ractive.extend({data:function(){return{dateFormat:RG.datetime.parseVmDate}},oninit:function(){RG.logger.debug("LiveReload")}});t.exports=i},{}],"/var/www/pravo/www/app/Resources/public/scripts/config.js":[function(e,t,s){var i="//front.rg.ru/",r="//outer.rg.ru/",o={paths:{root:i,fresh:"/json/gazeta",accountInclude:"/include/tmpl-b-feed/is-announce/num-3/index.json",popularMaterials:r+"plain/popular/",popularCommentMaterials:i+"comments/top_list",fascicles:"/json/fascicles",supersp:"/json/supersp",lastNews:"/json/last_news/",broadcastSport:r+"plain/sport_translations/api/sport.php?id=",broadcastOnline:r+"plain/online_translations/api/online.php?id=",partners:"api/partners/",tmpl:{bFeed:"/res/templates/b-feed.html",bNewsInner:"/res/templates/b-news-inner.html",bNewsInner_doc:"/res/templates/b-news-inner_doc.html",bNews:"/res/templates/b-news.html",bNews_broadsides:"/res/templates/b-news_broadsides.html",broadcastOnline:"/res/templates/b-broadcast-online.html",broadcastSport:"/res/templates/b-broadcast-sport.html",bPartners:"/res/templates/b-partners.html"}},regions:null,env:"dev",formats:{email:/\S+@\S+\.\S+/,conformAtionCode:/\b\d{6}\b/g,name:/^[а-яА-ЯёЁa-zA-Z ,.'-]+$/},messages:{inputNotValid:"Неверный формат",emailNotValid:"Неверный формат адреса электронной почты",nameNotValid:"Неверный формат имени",codeIsSent:"Код уже отправлен, попробуйте позднее",codeNotValid:"Неверный код"}};t.exports=o},{}],"/var/www/pravo/www/app/Resources/public/scripts/global.js":[function(e,t,s){window.RG=window.RG||{},console.debug("From RG team with ❤"),e("./global/decorators"),e("./global/components"),e("./global/modules"),e("./global/extends"),$.ajaxSetup({xhrFields:{withCredentials:!0}}),$(function(){function e(){$("body").addClass("scroll-disabled")}function t(){$("body").removeClass("scroll-disabled")}function s(e,t,s){RG.logger.info(e),c.addClass("has-loading"),u.addClass("has-loading"),$.colorbox({html:'<div id="authContainer"></div>',onComplete:function(){var e=s?"code":null;RG.Auth.run(e),RG.events.publish("colorbox.opened","login"),t?RG.events.publish("aurh.confirm.required"):null,setTimeout(function(){$.colorbox.resize({innerWidth:360,innerHeight:600}),c.removeClass("has-loading"),u.removeClass("has-loading"),RG.events.publish("tab.selected.set",$(".b-auth .b-tab__item_1"))},1e3)},onLoad:function(){},onCleanup:function(){RG.logger.info("close colorbox"),RG.events.publish("colorbox.closed","login"),c.addClass("hidding"),setTimeout(function(){c.removeClass("hidding")},1e3)},returnFocus:!1,scrolling:!1,opacity:.7,initialWidth:0,initialHeight:0,transition:"none"})}function i(e){RG.logger.info(e),c.addClass("has-loading"),u.addClass("has-loading"),$.colorbox({html:'<div id="searchOverlay"></div>',onComplete:function(){$("#searchOverlay").load("/bundles/jurist/static_tmpl/b-search-form.html"),$.colorbox.resize({width:"1100px",height:"40px"}),RG.events.publish("colorbox.opened","search"),setTimeout(function(){c.removeClass("has-loading"),u.removeClass("has-loading")},300)},onLoad:function(){},onCleanup:function(){RG.events.publish("colorbox.closed","search"),c.addClass("hidding"),setTimeout(function(){c.removeClass("hidding")},1e3)},onClosed:function(){},returnFocus:!1,className:"b-modal_search",opacity:.7,initialWidth:0,initialHeight:0,transition:"none"})}function r(e){RG.logger.info(e),c.addClass("has-loading"),u.addClass("has-loading"),$.colorbox({html:'<div id="followed"></div>',onComplete:function(){RG.events.publish("followed.run"),RG.events.publish("colorbox.opened","followed"),setTimeout(function(){c.removeClass("has-loading"),u.removeClass("has-loading")},300)},onLoad:function(){},onCleanup:function(){RG.events.publish("followed.destroy"),RG.events.publish("colorbox.closed","followed"),c.addClass("hidding"),setTimeout(function(){c.removeClass("hidding")},1e3)},onClosed:function(){},returnFocus:!1,transition:"none",top:$("#menu").offset().top+53,right:0,className:"b-modal_header",opacity:.7,initialWidth:0,initialHeight:0})}function o(e){RG.logger.info(e),c.addClass("has-loading"),u.addClass("has-loading"),$.colorbox({html:'<div id="viewed"></div>',onComplete:function(){RG.events.publish("viewed.run"),RG.events.publish("colorbox.opened","viewed"),$.colorbox.resize({innerWidth:390}),setTimeout(function(){c.removeClass("has-loading"),u.removeClass("has-loading")},300)},onLoad:function(){},onCleanup:function(){RG.events.publish("viewed.destroy"),RG.events.publish("colorbox.closed","viewed"),c.addClass("hidding"),setTimeout(function(){c.removeClass("hidding")},1e3)},onClosed:function(){},returnFocus:!1,transition:"none",top:$("#menu").offset().top+53,right:0,className:"b-modal_header",opacity:.7,initialWidth:0,initialHeight:0})}function n(e,t){RG.config.regions=t,RG.events.unsubscribe("geolocation.region.update"),RG.logger.info(e),c.addClass("has-loading"),u.addClass("has-loading"),$.colorbox({html:'<div id="region"></div>',onComplete:function(){new Region,RG.events.publish("colorbox.opened","region"),$.colorbox.resize({innerWidth:900,innerHeight:300}),setTimeout(function(){c.removeClass("has-loading"),u.removeClass("has-loading")},300)},onLoad:function(){},onCleanup:function(){RG.events.publish("colorbox.closed","region"),c.addClass("hidding"),setTimeout(function(){c.removeClass("hidding")},1e3)},onClosed:function(){},returnFocus:!1,scrolling:!1,opacity:.7,initialWidth:0,initialHeight:0,transition:"none"})}function a(s){var i=$("#cboxOverlay");return s?(i.show(),e()):(i.hide(),t()),!1}function l(){var e=100,t=$(window).scrollTop(),s=document.querySelector(".b-menu");t>e?s.classList.add("b-menu_fixed"):s.classList.remove("b-menu_fixed")}$("#openKartaProezda").colorbox({title:"Редакция &laquo;Российской газеты&raquo;, ул. Правды, д. 24, строение 4",className:"karta-proezda-ctx"});var c=$("#colorbox"),u=$("#cboxOverlay");RG.parser.init(),RG.Viewed.init(),$(document).on("click",function(e){RG.events.publish("document.click",e)}),$(document).on("mousedown",function(e){RG.events.publish("document.mousedown",e)}),$(document).on("mouseup",function(e){RG.events.publish("document.mouseup",e)}),window.$windowHeight=window.innerHeight,window.$windowWidth=window.innerWidth,$(document).on("scroll",function(){window.$scrollTop=window.pageYOffset,window.$windowHeight=window.innerHeight}),$(window).on("resize",function(){window.$scrollTop=window.pageYOffset,window.$windowHeight=window.innerHeight}),function(){var e=$(".js-datepicker");e.length&&(e.datepicker({showOn:"button",buttonText:"",showButtonPanel:!0,showOtherMonths:!0,selectOtherMonths:!0,beforeShow:function(){$(".ui-datepicker-trigger").addClass("is-active").addClass("animated").addClass("bounceIn")},onClose:function(){$(".ui-datepicker-trigger").removeClass("is-active").removeClass("animated").removeClass("bounceIn")}}),e.datepicker($.datepicker.regional.ru))}(),$(".b-scroll-block_sidebar-left").stick_in_parent({parent:".l-page__body",spacer:!1}),$(".js-scroll-bar").mCustomScrollbar({autoHideScrollbar:!0}),RG.parser.render("rg-form"),$("label a").on("click",function(e){e.stopPropagation()}),RG.Subscribe.init(),RG.meta.getSujet()&&RG.parser.render("rg-follow-sujet",{data:{subscribed:!1,txt:"Следить за сюжетом",sujet:RG.meta.getSujet()}}),RG.Saved.init(),RG.Analytics.init(),RG.Analytics.run(),function(){var e=$(".b-icon_type_print");e.length&&e.on("click",function(e){e.preventDefault(),window.print()})}(),RG.Counters.init(),RG.events.publish("Counters.run"),RG.Ads.init(),RG.parser.render("rg-adfox"),RG.events.publish(RG.Ads.Adfox_modulePrefix+".run"),RG.Ads.YaDirect.init(),RG.parser.render("rg-yadirect"),RG.ScreenViewer.init(),RG.events.publish(RG.ScreenViewer._modulePrefix+".check"),$(window).on("resize",function(){RG.events.publish("window.resize")}),RG.BlocksShifter.init(),RG.events.subscribe(RG.ScreenViewer._modulePrefix+".check",function(e){var t=RG.ScreenViewer.getScreenInfo();RG.logger.info(e),RG.Place.init(t),RG.events.publish(RG.BlocksShifter._modulePrefix+".run",t),RG.events.subscribe(RG.ScreenViewer._modulePrefix+".update",function(e,t){RG.logger.info(e),RG.events.publish(RG.BlocksShifter._modulePrefix+".run",t)})}),RG.RegionalNews.init(),RG.LiveReload.init(),RG.LiveReload.run(),function(){$(".b-vendors__item_more-btn").colorbox({onComplete:function(){},onOpen:function(){RG.events.publish("colorbox.opened")},onCleanup:function(){RG.events.publish("colorbox.closed")},className:"b-vendors b-vendors_overlay",inline:!0,href:$(".b-vendors_header").html(),width:"408px",height:"400px",opacity:.7,initialWidth:0,initialHeight:0})}(),RG.events.subscribe(RG.ScreenViewer._modulePrefix+".check",function(e){var t=RG.ScreenViewer.getScreenInfo();"tabletLandscape"!==t.type&&"desktop"!==t.type&&"desktopFull"!==t.type?window.footerContentToggler?t.infoBefore&&t.infoBefore.screenWidth!==t.screenWidth&&("tabletLandscape"===t.infoBefore.type&&"desktop"!==t.infoBefore.type&&"desktopFull"!==t.infoBefore.type||window.footerContentToggler.initialHide()):window.footerContentToggler=new RG.ContentToggler($(".b-footer")[0],{btn:".b-footer__toggle",ctx:".b-footer__links",opened:!1}):window.footerContentToggler&&window.footerContentToggler.destroy()}),RG.events.subscribe(RG.ScreenViewer._modulePrefix+".update",function(e,t){"tabletLandscape"!==t.type&&"desktop"!==t.type&&"desktopFull"!==t.type?window.footerContentToggler?t.infoBefore&&t.infoBefore.screenWidth!==t.screenWidth&&("tabletLandscape"===t.infoBefore.type&&"desktop"!==t.infoBefore.type&&"desktopFull"!==t.infoBefore.type||window.footerContentToggler.initialHide()):window.footerContentToggler=new RG.ContentToggler($(".b-footer")[0],{btn:".b-footer__toggle",ctx:".b-footer__links",opened:!1}):window.footerContentToggler&&window.footerContentToggler.destroy()}),$("#vendorsRg").slick({dots:!1,infinite:!0,speed:300,slidesToShow:7,responsive:[{breakpoint:768,settings:{dots:!1,infinite:!0,speed:300,variableWidth:!0,slidesToShow:1,centerMode:!0}},{breakpoint:1024,settings:{dots:!1,infinite:!0,speed:300,slidesToShow:4}},{breakpoint:1366,settings:{dots:!1,infinite:!0,speed:300,slidesToShow:7}}]}),function(){"#code"===document.location.hash&&s("code.required",!1,!0)}(),RG.events.registerList({login:s,"search.overlay.show":i,"region.overlay.show":function(e){RG.logger.info(e),RG.config.regions?n("region.overlay.show",RG.config.regions):(RG.events.subscribe("geolocation.region.update",n,RG.config.regions),RG.events.publish("geolocation.region.all"))},"followed.show":r,"viewed.show":o,"session.confirm.required":function(e){
RG.logger.info(e),"#social_redirect"===document.location.hash&&RG.events.publish("login",!0)},"overlay.resize":function(t){RG.logger.info(t);var s=$("#colorbox").find(".js-height-list");s.offset()&&s.css("height",$windowHeight-s.offset().top),$.colorbox.resize(),e()},"colorbox.opened":e,"colorbox.closed":t,"overlay.show":function(){a(!0)},"overlay.hide":function(){a(!1)},"session.user.authorized":function(e){RG.logger.info(e),RG.Auth.destruct(),$.colorbox.close()},"scroll.init":function(e,t){RG.logger.info(e);var s=RG.ScreenViewer.getScreenInfo().type;"tabletLandscape"!==s&&"tablet"!==s&&"mobile"!==s&&(t=t||$(".js-scroll-bar"),t.length&&(t.mCustomScrollbar("destroy"),t.mCustomScrollbar({autoHideScrollbar:!0})))},"scroll.destroy":function(e,t){RG.logger.info(e),t=t||$(".js-scroll-bar"),t.mCustomScrollbar("destroy")},"livereload.init":function(e){RG.logger.info(e),$(".b-broadcast-sport").length&&(new RG.ContentHandler(".b-broadcast-sport",{labelList:".b-broadcast-sport__menu-item"}),RG.ScrollTopBroadcast.init()),$.getScript("//platform.twitter.com/widgets.js"),$.getScript('//platform.instagram.com/en_US/embeds.js"'),RG.events.publish("scroll.init")},"geolocation.region.changed":function(e){RG.logger.info(e),$.colorbox.close()}}),$(window).on("scroll",l),new RG.ListHeadToSelect(".b-categories__link",".b-categories",".b-categories__list")}),$(function(){!function(){new Ractive.components.share({el:"#share",data:function(){return{owner:"share",options:{theme:{counter:!0}},content:"Поделиться:"}}});RG.events.publish("share.set",{url:$('meta[property="og:url"]').attr("content"),title:$('meta[property="og:title"]').attr("content"),description:$('meta[name="description"]').attr("content"),image:$('meta[property="og:image"]').attr("content")})}()})},{"./global/components":"/var/www/pravo/www/app/Resources/public/scripts/global/components.js","./global/decorators":"/var/www/pravo/www/app/Resources/public/scripts/global/decorators.js","./global/extends":"/var/www/pravo/www/app/Resources/public/scripts/global/extends.js","./global/modules":"/var/www/pravo/www/app/Resources/public/scripts/global/modules.js"}],"/var/www/pravo/www/app/Resources/public/scripts/global/components.js":[function(e,t,s){Ractive.components={"input-notification":e("../../blocks/forms/b-input-notification/scripts/InputNotification"),tabs:e("../../blocks/crosslayouts/b-tabs/scripts/Tabs"),"search-bar":e("../../blocks/crosslayouts/b-search-form/scripts/SearchBar"),"rg-search-info":e("../../blocks/crosslayouts/b-search-info/scripts/SearchInfo"),"rg-search-filters":e("../../blocks/crosslayouts/b-search-filters/scripts/SearchFilters"),share:e("../../blocks/crosslayouts/b-share/scripts/share"),"rg-input":e("../../blocks/forms/b-input/scripts/Input"),"rg-email":e("../../blocks/forms/b-email/scripts/Email"),"rg-name":e("../../blocks/forms/b-name/scripts/Name"),"rg-checkbox":e("../../blocks/forms/b-checkbox/scripts/Checkbox"),"rg-select":e("../../blocks/forms/b-select/scripts/Select"),"rg-textarea":e("../../blocks/forms/b-textarea/scripts/Textarea"),"rg-submit":e("../../blocks/forms/b-submit/scripts/Submit"),"rg-form":e("../../blocks/forms/b-form/scripts/Form"),"rg-yadirect":e("../../blocks/crosslayouts/b-yadirect/scripts/Yadirect"),"rg-form-message":e("../../blocks/forms/b-form-message/scripts/FormMessage"),"rg-adfox":e("../../blocks/crosslayouts/b-adfox/scripts/Adfox")}},{"../../blocks/crosslayouts/b-adfox/scripts/Adfox":"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-adfox/scripts/Adfox.js","../../blocks/crosslayouts/b-search-filters/scripts/SearchFilters":"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-search-filters/scripts/SearchFilters.js","../../blocks/crosslayouts/b-search-form/scripts/SearchBar":"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-search-form/scripts/SearchBar.js","../../blocks/crosslayouts/b-search-info/scripts/SearchInfo":"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-search-info/scripts/SearchInfo.js","../../blocks/crosslayouts/b-share/scripts/share":"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-share/scripts/share.js","../../blocks/crosslayouts/b-tabs/scripts/Tabs":"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-tabs/scripts/Tabs.js","../../blocks/crosslayouts/b-yadirect/scripts/Yadirect":"/var/www/pravo/www/app/Resources/public/blocks/crosslayouts/b-yadirect/scripts/Yadirect.js","../../blocks/forms/b-checkbox/scripts/Checkbox":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-checkbox/scripts/Checkbox.js","../../blocks/forms/b-email/scripts/Email":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-email/scripts/Email.js","../../blocks/forms/b-form-message/scripts/FormMessage":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-form-message/scripts/FormMessage.js","../../blocks/forms/b-form/scripts/Form":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-form/scripts/Form.js","../../blocks/forms/b-input-notification/scripts/InputNotification":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-input-notification/scripts/InputNotification.js","../../blocks/forms/b-input/scripts/Input":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-input/scripts/Input.js","../../blocks/forms/b-name/scripts/Name":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-name/scripts/Name.js","../../blocks/forms/b-select/scripts/Select":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-select/scripts/Select.js","../../blocks/forms/b-submit/scripts/Submit":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-submit/scripts/Submit.js","../../blocks/forms/b-textarea/scripts/Textarea":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-textarea/scripts/Textarea.js"}],"/var/www/pravo/www/app/Resources/public/scripts/global/decorators.js":[function(e,t,s){Ractive.decorators={"date-picker":function(e){var t=this;return $(e).datepicker({onSelect:function(e){t.updateModel(),RG.events.publish("date.picked",t)},dateFormat:"dd.mm.yy",constrainInput:!0,showOn:"button",buttonText:"Select...",showButtonPanel:!0,maxDate:"0"}),{teardown:function(){$(e).datepicker("destroy")}}},"scroll-bar":function(e){return $(e).mCustomScrollbar({autoHideScrollbar:!0}),{teardown:function(){$(e).mCustomScrollbar("destroy")}}}}},{}],"/var/www/pravo/www/app/Resources/public/scripts/global/extends.js":[function(e,t,s){Ractive.transitions.fade=e("ractive-transitions-fade"),_.mixin({getQueryParam:function(e,t){e||(e=window.location.href),e=e.toLowerCase(),t=t.replace(/[\[\]]/g,"\\$&").toLowerCase();var s=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),i=s.exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},remove:function(e,t){return delete e[t],e},objMap:function(e,t,s){return _.reduce(e,function(i,r,o){return i[o]=t.call(s,r,o,e),i},{},s)},objFilter:function(e,t,s){return _.reduce(e,function(i,r,o){return t.call(s,r,o,e)&&(i[o]=r),i},{},s)},objReject:function(e,t,s){return _.reduce(e,function(i,r,o){return t.call(s,r,o,e)||(i[o]=r),i},{},s)}}),jQuery.datepicker&&(jQuery.datepicker.regional.ru={closeText:"",prevText:"Пред.",nextText:"След.",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв.","Февр.","Март","Апрель","Май","Июнь","Июль.","Авг.","Сент.","Окт.","Нояб.","Дек."],dayNames:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],dayNamesShort:["Вск.","Пон.","Вт.","Ср.","Чт.","Пт.","Суб."],dayNamesMin:["вс","пн","вт","ср","чт","пт","сб"],weekHeader:"Sem.",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},jQuery.datepicker.setDefaults(jQuery.datepicker.regional.ru))},{"ractive-transitions-fade":"/var/www/pravo/node_modules/ractive-transitions-fade/dist/ractive-transitions-fade.js"}],"/var/www/pravo/www/app/Resources/public/scripts/global/modules.js":[function(e,t,s){RG.config=RG.config||e("../config"),RG.meta=RG.meta||e("../modules/Meta"),RG.config.env=RG.meta.getEnv(),Ractive.DEBUG="dev"===RG.meta.getEnv(),RG.config.paths.root="dev"===RG.config.env?"https://front-dev.rg.ru/app_dev.php/":"https://front.rg.ru/",RG.logger=RG.logger||e("../modules/Logger"),RG.events=RG.events||e("../modules/Events"),RG.session=RG.session||e("../modules/Session"),RG.query=RG.query||e("../modules/Query"),RG.storage=RG.storage||e("../modules/Storage"),RG.datetime=RG.datetime||e("../modules/DateTime"),RG.selection=RG.selection||e("../modules/Selection"),RG.parser=RG.parser||e("../modules/Parser"),RG.ScreenViewer=RG.ScreenViewer||e("../modules/ScreenViewer"),RG.Subscribe=RG.Subscribe||e("../modules/Services/Subscribe"),RG.Saved=RG.Saved||e("../modules/Services/Saved"),RG.Viewed=RG.Viewed||e("../modules/Services/Viewed"),RG.Geolocation=RG.Geolocation||e("../modules/Services/Geolocation"),RG.Place=RG.Place||e("../modules/Services/Place"),RG.Analytics=RG.Analytics||e("../modules/Analytics/Analytics"),RG.Counters=RG.Counters||e("../modules/Counters"),RG.Ads=RG.Ads||e("../modules/Ads/Ads"),RG.BlocksShifter=RG.BlocksShifter||e("../modules/BlocksShifter"),RG.ContentToggler=RG.ContentToggler||e("../modules/ContentToggler"),RG.ContentHandler=RG.ContentHandler||e("../modules/ContentHandler"),RG.LiveReload=RG.LiveReload||e("../modules/LiveReload"),RG.RegionalNews=RG.RegionalNews||e("../modules/Services/RegionalNews"),RG.ListHeadToSelect=RG.ListHeadToSelect||e("../modules/ListHeadToSelect"),RG.Menu=RG.Menu||e("../../blocks/header/b-menu/scripts/b-menu"),RG.forms=RG.forms||{}},{"../../blocks/header/b-menu/scripts/b-menu":"/var/www/pravo/www/app/Resources/public/blocks/header/b-menu/scripts/b-menu.js","../config":"/var/www/pravo/www/app/Resources/public/scripts/config.js","../modules/Ads/Ads":"/var/www/pravo/www/app/Resources/public/scripts/modules/Ads/Ads.js","../modules/Analytics/Analytics":"/var/www/pravo/www/app/Resources/public/scripts/modules/Analytics/Analytics.js","../modules/BlocksShifter":"/var/www/pravo/www/app/Resources/public/scripts/modules/BlocksShifter.js","../modules/ContentHandler":"/var/www/pravo/www/app/Resources/public/scripts/modules/ContentHandler.js","../modules/ContentToggler":"/var/www/pravo/www/app/Resources/public/scripts/modules/ContentToggler.js","../modules/Counters":"/var/www/pravo/www/app/Resources/public/scripts/modules/Counters.js","../modules/DateTime":"/var/www/pravo/www/app/Resources/public/scripts/modules/DateTime.js","../modules/Events":"/var/www/pravo/www/app/Resources/public/scripts/modules/Events.js","../modules/ListHeadToSelect":"/var/www/pravo/www/app/Resources/public/scripts/modules/ListHeadToSelect.js","../modules/LiveReload":"/var/www/pravo/www/app/Resources/public/scripts/modules/LiveReload.js","../modules/Logger":"/var/www/pravo/www/app/Resources/public/scripts/modules/Logger.js","../modules/Meta":"/var/www/pravo/www/app/Resources/public/scripts/modules/Meta.js","../modules/Parser":"/var/www/pravo/www/app/Resources/public/scripts/modules/Parser.js","../modules/Query":"/var/www/pravo/www/app/Resources/public/scripts/modules/Query.js","../modules/ScreenViewer":"/var/www/pravo/www/app/Resources/public/scripts/modules/ScreenViewer.js","../modules/Selection":"/var/www/pravo/www/app/Resources/public/scripts/modules/Selection.js","../modules/Services/Geolocation":"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/Geolocation.js","../modules/Services/Place":"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/Place.js","../modules/Services/RegionalNews":"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/RegionalNews.js","../modules/Services/Saved":"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/Saved.js","../modules/Services/Subscribe":"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/Subscribe.js","../modules/Services/Viewed":"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/Viewed.js","../modules/Session":"/var/www/pravo/www/app/Resources/public/scripts/modules/Session.js","../modules/Storage":"/var/www/pravo/www/app/Resources/public/scripts/modules/Storage.js"}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Ads/Adfox.js":[function(e,t,s){var i="Adfox",r=function(e,t){var s=window.ADFOX.RELOAD_CODE,i=null;e.html("");_.each(t,function(t){if(_.isEmpty(t.uri))_.isEmpty(t.code)||e.append(t.code);else{var r="adfox_"+Math.random().toString(36).substring(7),n=null,a=t.uri,l=t.scroll;n=$("<div />",{id:r,"class":"adfox_item"}),i=s.initBanner(r,a),e.append(n.append(i.html)),l?e.closest(".b-ads").hasClass("b-ads_fullscreen")?s.loadBanner(i.pr1,t.uri,i.sessionId):(RG.logger.log("loadBanner with appear "+r),o(r,{tgNS:s,initData:i,uri:a},function(){})):s.loadBanner(i.pr1,t.uri,i.sessionId)}})},o=function(e,t,s){$("#"+e).appear(),$("#"+e).one("appear",function(e,i){t.tgNS.loadBanner(t.initData.pr1,t.uri,t.initData.sessionId),s()}),$.force_appear()},n=function(e,t){RG.logger.info(e);for(var s in t){var i="#ads"+s,o=$(i);o.length&&r(o,t[s])}},a=function(){RG.events.subscribe(i+".places.set",n)};t.exports={_modulePrefix:i,init:a}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Ads/Ads.js":[function(e,t,s){var i=[],r=e("./Adfox"),o=e("./Teads"),n=e("./YaDirect"),a=e("./Ivengo"),l=e("./Turboroller"),c=e("./NativeRoll"),u=function(){r.init(),RG.events.subscribe(RG.ScreenViewer._modulePrefix+".update",function(e,t){p(i,t.type)})},p=function(e,t){var s={};_.forEach(e,function(e,i){s[i]=_.filter(e,function(e){return parseInt(e[t])})}),RG.events.publish("Adfox.places.set",s),RG.events.publish("Turboroller.places.set",s),RG.events.publish("YaDirect.places.set",s)};t.exports={Adfox_modulePrefix:r._modulePrefix,Teads_modulePrefix:o._modulePrefix,YaDirect_modulePrefix:n._modulePrefix,Ivengo_modulePrefix:a._modulePrefix,Turboroller_modulePrefix:l._modulePrefix,Adfox:r,Teads:o,YaDirect:n,Ivengo:a,Turboroller:l,NativeRoll:c,init:u}},{"./Adfox":"/var/www/pravo/www/app/Resources/public/scripts/modules/Ads/Adfox.js","./Ivengo":"/var/www/pravo/www/app/Resources/public/scripts/modules/Ads/Ivengo.js","./NativeRoll":"/var/www/pravo/www/app/Resources/public/scripts/modules/Ads/NativeRoll.js","./Teads":"/var/www/pravo/www/app/Resources/public/scripts/modules/Ads/Teads.js","./Turboroller":"/var/www/pravo/www/app/Resources/public/scripts/modules/Ads/Turboroller.js","./YaDirect":"/var/www/pravo/www/app/Resources/public/scripts/modules/Ads/YaDirect.js"}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Ads/Ivengo.js":[function(e,t,s){var i="Ivengo",r=RG.config.env,o="//s.i-vengo.com/js/ivengo.min.js",n={prod:"18s59u0l2mb",dev:"18s59u0l2mb"},a=function(){$.getScript(o).done(function(){RG.events.publish(i+".lib.loaded")})},l=function(){var e=RG.ScreenViewer.getScreenInfo().type,t=window.iVengo||null;"mobile"===e&&t&&(t.init({appId:n[r],logLevel:"info"}),t.fillSlot({adType:["standart","cube","inline_video","slim_video"],width:"100%",mobileOnly:!0}),t.showInterstitial({adType:"fullscreen"}))},c=function(){a(),RG.events.subscribe(i+".lib.loaded",l)},u=function(){RG.events.subscribe(i+".init",c)};t.exports={_modulePrefix:i,init:u}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Ads/NativeRoll.js":[function(e,t,s){var i="NativeRoll",r=RG.config.env,o=function(){var e=$(".b-material-wrapper > article")[0],t={onError:function(e){console.log(e)}};t.gid="5715fa7b64225d0e308b456e","dev"===r&&(t.debug=!0),SeedrPlayer(e,20,t)},n=function(){!function(e,t,s,i,r,o,n,a){n=t.createElement(s),n.src=i,n.type="application/javascript",n.async=!0,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(n,a),e[o]=[],e[r]=function(){e[o].push(Array.prototype.slice.apply(arguments))}}(window,document,"script",("https:"===document.location.protocol?"https:":"http:")+"//cdn01.nativeroll.tv/js/seedr-player.min.js","SeedrPlayer","seedrInit")},a=function(){n(),o()};t.exports={_modulePrefix:i,init:a}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Ads/Teads.js":[function(e,t,s){var i="Teads",r=RG.config.env,o={mobile:{inread:{prod:25863,dev:25863}},desktop:{inread:{prod:19301,dev:19301},inboard:{prod:25888,dev:25888}}},n="teads",a="//cdn.teads.tv/media/format.js",l={mobile:[{pid:o.mobile.inread[r],lang:"ru",slot:'[itemprop="articleBody"] > p',format:"inread",components:{skip:{delay:0}},mutable:!0,css:"margin: 0px 0px 20px;"}],desktop:[{pid:o.desktop.inboard[r],lang:"en",slot:".l-page__wrapper #rgb_header_article #rgb_header__content",format:"inboard",mobile:!1,minSlot:3,components:{skip:{delay:0}},mutable:!0,css:"margin: 15px 0px 0px;"},{pid:o.desktop.inread[r],lang:"ru",slot:".b-material-wrapper article > p",format:"inread",className:n+" teads_inread",mobile:!1,minSlot:1,components:{skip:{delay:0}},mutable:!0,css:"margin: 0px 0px 20px;"}]},c=function(){window._ttf=window._ttf||[],$.each(l,function(e,t){$.each(t,function(e,t){_ttf.push(t)})})},u=function(){$.getScript(a)},p=function(){c(),u()};t.exports={_modulePrefix:i,init:p}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Ads/Turboroller.js":[function(e,t,s){var i="Turboroller",r=RG.config.env,o={prod:"9429",dev:"9429"},n=function(e){var t=$("#ads"+e),s=$("<div />"),i=null,n="turbo",l="roller"+Math.random().toString(36).substring(7),c=null;t.length&&(i=n+l,c="//engine.turboroller.ru/Route?place=rg.ru-"+o[r]+"&ctx="+escape(document.title)+"&r="+Math.floor(99999999999*Math.random())+"&r2="+l+"&ct1="+document.defaultCharset+"&ct2="+document.characterSet,s.addClass("b-ads__tgb").attr("id",i),t.append(s),a(c))},a=function(e){$.getScript(e).done(function(){RG.events.publish(i+".loaded")})},l=function(e,t){$.each(t,function(e,t){$.each(t,function(t,s){var i=s.turboroller||null;i&&n(e)})})},c=function(){RG.events.subscribe(i+".places.set",l)};t.exports={_modulePrefix:i,init:c}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Ads/YaDirect.js":[function(e,t,s){var i="YaDirect",r="29789",o="//an.yandex.ru/system/context.js",n="ya-direct-root",a="ya-direct_loaded",l=function(){$.getScript(o)},c=function(t){var s=null,i=e("../ScreenViewer").getScreenInfo(),r={mobile:1,tablet:2,tabletLandscape:3,desktop:4,desktopFull:5};return s=[t.placeAdsId.replace("ads",""),0,r[i.type],0,1],""+s.join("")},u=function(e,t){$.each(t,function(t,s){var i=s.yadirect;if(i){i=JSON.parse(i);var o=$("<div />"),l="yaDirect_"+Math.random().toString(36).substring(7);o.attr({id:l,"class":"ya-direct-"+i.type+" "+n+" "+a}),e.append(o),window.yandex_context_callbacks=window.yandex_context_callbacks||[],i.stat_id=c({placeAdsId:e.attr("id"),param:s}),window.yandex_context_callbacks.push(function(){Ya.Direct.insertInto(r,l,i)})}})},p=function(e,t){for(var s in t){var i="#ads"+s,r=$(i);r.length&&u(r,t[s])}l()},d=function(){RG.events.subscribe(i+".places.set",p)};t.exports={_modulePrefix:i,init:d}},{"../ScreenViewer":"/var/www/pravo/www/app/Resources/public/scripts/modules/ScreenViewer.js"}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Analytics/Analytics.js":[function(e,t,s){var i=e("./Ga"),r=e("./Contentinsights"),o=function(){i.init(),r.init()},n=function(){RG.events.publish(i._modulePrefix+".run")};t.exports={Ga:i,Contentinsights:r,init:o,run:n}},{"./Contentinsights":"/var/www/pravo/www/app/Resources/public/scripts/modules/Analytics/Contentinsights.js","./Ga":"/var/www/pravo/www/app/Resources/public/scripts/modules/Analytics/Ga.js"}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Analytics/Contentinsights.js":[function(e,t,s){var i="Contentinsights",r="1339",o=function(){!function(e,t){var s=e.createElement(t);s.type="text/javascript",s.async=!0,s.src=("https:"==e.location.protocol?"https://d7d3cf2e81d293050033-3dfc0615b0fd7b49143049256703bfce.ssl.cf1.rackcdn.com":"http://t.contentinsights.com")+"/stf.js";var i=e.getElementsByTagName(t)[0];i.parentNode.insertBefore(s,i)}(document,"script")},n=function(){var e={id:r,url:RG.meta.getMaterialUrl()||"",postid:RG.meta.getMaterial()||"",title:RG.meta.getMaterialTitle()||"",pubdate:RG.meta.getPubTime()||"",authors:RG.meta.getAuthorName()||"",sections:RG.meta.getSectionName()||""};window._ain=e,RG.logger.log(e)},a=function(){RG.logger.log("Contentinsights init"),RG.events.subscribe(i+".run",l)},l=function(){RG.logger.log("Contentinsights run"),n(),o()};t.exports={init:a,_modulePrefix:i}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Analytics/Ga.js":[function(e,t,s){var i="Ga",r="UA-7039329-31",o={1:"rubric:id"},n=function(){$.getScript("//www.google-analytics.com/analytics.js")},a=function(){$.each(o,function(e,t){var s=null,i=null;s='meta[property="'+t+'"]',i=$(s).attr("content"),i&&("article:length"===t&&(i=100*Math.floor(+i/100)),RG.logger.log("article:length = "+i),ga("set","dimension"+e,i))})},l=function(){var e=RG.meta.getGaId(),t=RG.meta.getProjectUri();window.ga=window.ga||function(){ga.q=ga.q||[],ga.q.push(arguments)},ga.l=+new Date,RG.logger.log("ga id: "+e),RG.logger.log("ga GaURI: "+t),ga("create",r,"rg.ru"),e&&ga("create",e,"rg.ru",{name:t}),a(),ga("set","dimension2",RG.ScreenViewer.getScreenInfo().type),ga("require","displayfeatures"),ga("send","pageview")},c=function(e){var t=e.type,s=e.param;$(s.tagLabel).on(s.event,function(e){p({type:t,param:{hitType:s.hitType,eventCategory:s.eventCategory,eventAction:s.eventAction,eventLabel:s.eventLabel,eventValue:s.eventValue}}),RG.logger.log("send GA, event: "+s.event+", on element "+s.tagLabel)}),RG.logger.log("Зарегестрировано событие GA, event: "+s.event+", на элементе "+s.tagLabel)},u=function(e){var t=e.list;e.meta;$.each(t,function(e,t){$.each(t,function(e,t){$.each(t,function(t,s){c({type:e,param:s})})})})},p=function(e){var t=e.type||"send",s=e.param;ga(t,{hitType:s.hitType,eventCategory:s.eventCategory,eventAction:s.eventAction,eventLabel:s.eventLabel,eventValue:s.eventValue,nonInteraction:s.nonInteraction||!0}),RG.logger.log("Отправлены GA данные, по событию "+t),RG.logger.log("Отправлены GA данные, с параметрами",s)},d=function(){RG.events.subscribe(i+".run",f)},f=function(){n(),l()};t.exports={_modulePrefix:i,register:c,registerList:u,sendTracker:p,init:d}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/BlocksShifter.js":[function(e,t,s){var i=e("keypather")(),r="BlocksShifter",o=".shiftContainer",n="shiftContainer_active",a="data-blocksShifterId",l="data-blocksShifterWidthHash",c={},u=function(e,t){var s=$(o);s.length&&p(s,t)},p=function(e,t){var s=t.type;e.each(function(e,t){var i=$(t),r=i.attr(l),o=i.attr(a),c=null;r=r.split(" "),$.each(r,function(e,t){t===s&&(c=$("["+a+"="+o+"]."+n),d(i,c,o,s,n))})})},d=function(e,t,s,r,o){e.children().length||t.children().appendTo(e.empty()),i["in"](c,s+"."+r+".callback")&&c[s][r].callback(e,t),t.removeClass(o),e.addClass(o)},f=function(e){$.each(e,function(e,t){var s=t.blockId||null,i=t.screenType.split(" ")||null,o=t.callback||null;try{if(!(s&&i&&o))throw new Error("не указаны все данные для функции");c[s]||(c[s]={}),$.each(i,function(e,t){c[s][t]||(c[s][t]={}),c[s][t].callback=o})}catch(n){RG.logger.error("Модуль "+r+", функция setCallback.\nОшибка: "+n)}})},b=function(){RG.events.subscribe(r+".run",u)};t.exports={setCallback:f,_modulePrefix:r,init:b}},{keypather:"/var/www/pravo/node_modules/keypather/index.js"}],"/var/www/pravo/www/app/Resources/public/scripts/modules/ContentHandler.js":[function(e,t,s){function i(e,t){var s=$(e),i=null,r={labelList:".b-content-handler__btn",contentList:".b-content-handler__ctx",active:"is-active",attrFind:"data-content-handler"};this.options=i=$.extend({},r,t),this.$root=s,this.$labelList=s.find(i.labelList),this.$contentList=s.find(i.contentList),this.$activeBtn=null,this.$activeCtx=null,this.init()}i.fn=i.prototype,i.fn.select=function(e,t){var s=null;if(this.deselect(),e.addClass(this.options.active),this.storeBtn(e),s=this.$root.find(t),!s)throw new Error("Не найден выбранный элемент, проверьте аттрибут поиска элемента: "+this.options.attrFind);return s.addClass(this.options.active),this.storeCtx(s),this},i.fn.deselect=function(){return this.$activeBtn&&this.$activeBtn.removeClass(this.options.active),this.$activeCtx&&this.$activeCtx.removeClass(this.options.active),this},i.fn.storeBtn=function(e){return this.$activeBtn=e,this},i.fn.storeCtx=function(e){return this.$activeCtx=e,this},i.fn.storeActiveEl=function(){var e=this.options.active;return this.$activeBtn=this.$labelList.filter("."+e),this.$activeCtx=this.$contentList.filter("."+e),this},i.fn.init=function(){var e=this;return this.storeActiveEl().$labelList.on("click",function(t){var s=$(this),i=null;if(t.preventDefault(),i=s.attr(e.options.attrFind),!i)throw new Error("Не установлен аттрибут поиска элемента: "+e.options.attrFind);e.select(s,i)}),this},t.exports=i},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/ContentToggler.js":[function(e,t,s){function i(e,t){var s=$(e),i=null,r={btn:".b-content-toggler__btn",ctx:".b-content-toggler__ctx",show:"is-show",hide:"is-hide",opened:!1};$.extend({location:"top","background-color":"blue"},t),this.options=i=$.extend({},r,t),this.$root=s,this.$btn=s.find(i.btn),this.$ctx=s.find(i.ctx),this.init()}i.fn=i.prototype,i.fn.destroy=function(){return this.$root.removeClass(this.options.show).removeClass(this.options.hide),this.$ctx.css("height","auto"),this},i.fn.setHeight=function(e){return e.css("height",e.children().outerHeight(!0)),this},i.fn.initialHide=function(e){var t=this.options.show,s=this.options.hide;return this.$ctx.css("height",0),this.$root.removeClass(t).addClass(s),this},i.fn.showHide=function(e){var t=this.options.show,s=this.options.hide;return this.$root.hasClass(t)?(this.$ctx.css("height",0),this.$root.removeClass(t).addClass(s)):(this.setHeight(this.$ctx),this.$root.removeClass(s).addClass(t)),this},i.fn.initialShow=function(e){var t=this.options.show,s=this.options.hide;return this.setHeight(this.$ctx),this.$root.removeClass(s).addClass(t),this},i.fn.init=function(){var e=this;return this.options.opened?(this.$root.addClass(this.options.show),setTimeout(function(){e.setHeight(e.$ctx)},1e3)):this.initialHide(this.$ctx),$(window).resize(function(){e.$root.hasClass(e.options.show)&&e.setHeight(e.$ctx)}),this.$btn.on("click",function(){e.showHide(e.$ctx)}),RG.events.subscribe("ContentHandler.select",function(t,s){e.setHeight(e.$ctx)}),this},t.exports=i},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Counters.js":[function(e,t,s){var i="Counters",r="https:",o=[{name:"mailruCounter",targetId:"#mailruCounter",init:function(e){var t=null,s=null,i=null;t=window._tmr||(window._tmr=[]),t.push({id:"2808226",type:"pageView",start:(new Date).getTime()}),$.getScript(r+"//top-fwz1.mail.ru/js/code.js"),s=$("<a />",{target:"_blank",href:r+"//top.mail.ru/jump?from=2808226"}),i=$("<img />",{src:r+"//top-fwz1.mail.ru/counter?id=2808226;t=409;l=1",alt:"Рейтинг@Mail.ru",width:"88px",height:"31px",border:"0"}),$(e).append(s.append(i)),RG.logger.info("mailruCounter init")}},{name:"yaMetrikaCounter",targetId:"#yaMetrika",init:function(e){var t=RG.meta.getYaMetrikaId()||"39269930";RG.logger.log("Yandex Metrika id "+RG.meta.getYaMetrikaId()),window.yandex_metrika_callbacks=window.yandex_metrika_callbacks||[],window.yandex_metrika_callbacks.push(function(){try{window.yaCounter39269930=new Ya.Metrika({id:t,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,trackHash:!0})}catch(e){RG.logger.error(e+". Yandex Metrika error")}}),$.getScript(r+"//mc.yandex.ru/metrika/watch.js"),RG.logger.info("yaMetrika init")}}],n=function(){$.each(o,function(e,t){t.init(t.targetId)})},a=function(){RG.events.subscribe(i+".run",n)};t.exports={init:a}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/DateTime.js":[function(e,t,s){var i=function(e){var t=moment().format("HH:mm");return e&&(t=e.slice(-4,-2)+":"+e.slice(-2)),t},r=function(e){if(e){var t=moment(e,"YYYYMMDDhhmm");return t.isSame(moment(),"day")?t.format("HH:mm"):t.format("DD.MM.YYYY")}return moment().format("HH:mm")};t.exports={getTime:i,parseVmDate:r}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Events.js":[function(e,t,s){var i=PubSub;i.immediateExceptions="dev"===RG.config.env,i.registerList=function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];_.isEmpty(t)||_.each(t,function(t,s){_.isString(s)&&_.isFunction(t)&&e.subscribe(s,t)})}.bind(i),t.exports=i},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/ListHeadToSelect.js":[function(e,t,s){var i=e("../../blocks/forms/b-select/scripts/Select"),r=function(){function e(t,s,i){_classCallCheck(this,e),this.id=_.random(0,1e3),this.elementId="selectRubric-"+this.id,this.$element=this.appendElement(s),this.$list=$(i).addClass("is-tablet_block").addClass("is-tabletLanscape"),RG.logger.log(this.$element),RG.logger.log(this.$list),this.collectItems(t),this.run()}return _createClass(e,[{key:"collectItems",value:function(e){var t=[];return $(e).each(function(e,s){t.push(RG.parser.getAttributes(s))}),this.setItems(t)}},{key:"appendElement",value:function(e){var t=$("<div />").attr("id",this.elementId).addClass("is-mobile_block");return $(e).append(t),t}},{key:"run",value:function(){this.selectedOption=this.selectedOption||_.findWhere(this.getItems(),{href:document.location.pathname}),this.render()}},{key:"getItems",value:function(){return this.items}},{key:"setItems",value:function(e){return this.items=e,this.items}},{key:"setSelected",value:function(e){return this.selectedOption=e,this.selectedOption}},{key:"render",value:function(){var e=this.getItems(),t=null;e.length&&(t=this.selectedOption||this.setSelected(e[0]),this.component=new i({el:this.elementId,isolated:!0,data:function(){return{items:e,selectedOption:t}}}))}}]),e}();t.exports=r},{"../../blocks/forms/b-select/scripts/Select":"/var/www/pravo/www/app/Resources/public/blocks/forms/b-select/scripts/Select.js"}],"/var/www/pravo/www/app/Resources/public/scripts/modules/LiveReload.js":[function(e,t,s){var i=e("../../blocks/main/b-live-reload/scripts/LiveReload"),r=[],o={},n={},a={},l={},c={},u={},p=function(){d()},d=function(){r=[],$(".liveReload").each(function(e,t){$(t).attr("id","live_reload_"+Math.random().toString(36).substring(10));var s=_.extend(RG.parser.getAttributes(t),{el:t});_.each(s,function(e,t){var i=t.replace("data-","");s[i]=e}),r.push(s)})},f=function(){RG.logger.trace(r),_.each(r,function(e){b(e)})},b=function(e){setTimeout(function(){u[e.tmpl]?u[e.json]||(h(e),u[e.json]=!0):(v(e),u[e.tmpl]=!0)},e.delay)},v=function(e){var t=e.tmpl,s=e.iterator,i="";$.get(t).then(function(r){s?(i="{{#"+s+"}}{{>part}}{{/"+s+"}}",a[e.tmpl]=r):i=r,n[t]=i,u[e.json]||(h(e),u[e.json]=!0)})},h=function(e){"jsonp"===e.request?$.ajax({url:e.json,dataType:"jsonp",jsonp:"callback",jsonpCallback:"callback"}).then(function(t){l[e.json]=t,m(e)}):$.get(e.json).then(function(t){l[e.json]=t,m(e)})},m=function(e){RG.logger.trace(_(r).where({json:e.json})),_.chain(r).where({json:e.json}).each(function(e){if(o[e.id])if(_.isArray(l[e.json]))o[e.id].reset(l[e.json]);else try{o[e.id].set(l[e.json])}catch(t){RG.logger.log("LiveReload object is updated")}else o[e.id]=new i({template:n[e.tmpl],data:l[e.json],el:e.el,magic:!0,partials:{part:a[e.tmpl]}});RG.events.publish("livereload.init",e)}),w(e)},w=function(e){var t=e.json,s=l[e]||{},i=parseInt(s.interval)||6e4;return!(t in c&&(clearInterval(c[t].intervalId),delete c[t],0===i))&&(i=i>2e4?i:2e4,void(c[t]={intervalId:setInterval(function(){h(e)},i),intervalTime:i}))};t.exports={init:p,run:f}},{"../../blocks/main/b-live-reload/scripts/LiveReload":"/var/www/pravo/www/app/Resources/public/blocks/main/b-live-reload/scripts/LiveReload.js"}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Logger.js":[function(e,t,s){var i=function(){var e=new Date;return[e.getHours(),e.getMinutes(),e.getSeconds()].join(":")+"."+e.getMilliseconds()},r=function(){return"dev"===RG.config.env||"test"===RG.config.env},o=function(e){r()&&console.log(i(),e)},n=function(e){r()&&console.info(i(),e)},a=function(e){r()&&console.warn(i(),e)},l=function(e){r()&&console.error(i(),e);
},c=function(e){r()&&console.debug(i(),e)},u=function(e){r()&&console.trace(i(),e)};t.exports={log:o,info:n,warn:a,error:l,debug:c,trace:u}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Meta.js":[function(e,t,s){var i=function(){var e=$('meta[name="rg-data"][property="env"]').attr("content");return e},r=function(){var e=$('meta[name="rg-data"][property="article:id"]').attr("content");return e},o=function(){var e=$('meta[property="og:title"]').attr("content");return e},n=function(){var e=$('meta[property="og:url"]').attr("content");return e},a=function(){var e=$('meta[property="og:image"]').attr("content");return e},l=function(){return $('meta[name="rg-data"][property="project:uri"]').attr("content")},c=function(){var e=$('meta[name="rg-data"][property="sujet:id:first"]').attr("content");return e},u=function(){return $('meta[name="rg-data"][property="sujet:title:first"]').attr("content")},p=function(){return $('meta[name="rg-data"][property="article:published_time"]').attr("content")},d=function(){return $('meta[name="rg-data"][property="section:name"]').attr("content")},f=function(){return $('meta[name="rg-data"][property="author:name"]').attr("content")},b=function(){return $('meta[name="rg-data"][property="ads:uri"]').attr("content")},v=function(){return $('meta[name="rg-data"][property="page"]').attr("content")},h=function(){return $('meta[name="rg-data"][property="ads:hide"]').attr("content")},m=function(){return $('meta[name="rg-data"][property="gaId"]').attr("content")},w=function(){return $('meta[name="rg-data"][property="yaMetrikaId"]').attr("content")},g=function(){return $('meta[name="rg-data"][property="customLiveinternet"]').attr("content")};t.exports={getEnv:i,getSujet:c,getMaterial:r,getSujetTitle:u,getPubTime:p,getMaterialTitle:o,getMaterialUrl:n,getMaterialImg:a,getSectionName:d,getAuthorName:f,getProjectUri:l,getPlatform:b,getPage:v,getAdsHide:h,getGaId:m,getYaMetrikaId:w,getCustomLiveinternet:g}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Parser.js":[function(e,t,s){var i=[],r=function(){i=[],i=o("html")},o=function(e){var t=[];return _.each(_.keys(Ractive.components),function(s){$(e).find(s).each(function(e,s){var i=this.tagName.toLowerCase();if(Ractive.components[i]){RG.logger.warn("Parser found "+i+" component");var r=n(s);t.push({tag:i,el:s,data:r})}})}),_.sortBy(t,function(e){return e.data.sort})},n=function(e){var t={};return _.isObject(e)&&e.attributes&&(t=_.object(_.map(Array.prototype.slice.call(e.attributes),function(t){var s=t.value,i=$(e).attr(t.name).toString();try{if(!/^[\[\{].*?[\]\}]/.test(i))throw!1;s=JSON.parse(i)}catch(r){s=i.match(/'(.+)'$/)?i.replace(/['"]+/g,""):"true"===i||"false"===i?"true"===i:"class"===t.name?i.split(" "):i}return[t.name,s]}))),t.content=$(e).text(),t},a=function(e){return _.where(i,{tag:e})},l=function(e,t){var s=[],r=[];return _.isEmpty(e)||(s=_.where(i,{tag:e}),s.length&&_.each(s,function(s){var i=_.extend({el:s.el,data:s.data},t||{}),o=new Ractive.components[e](i);r.push(o)})),r};t.exports={init:r,render:l,getAttributes:n,getComponents:a,findComponents:o}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Query.js":[function(e,t,s){var i={set:function(e){var t=_.reduce(e,function(e,t,s){return t&&e.push(s+"="+encodeURIComponent(t)),e},[]).join("&");if(t.length>0&&(t="?"+t),history.pushState){var s=window.location.protocol+"//"+window.location.host+window.location.pathname+t;window.history.pushState({path:s},"",s)}else document.location=t;return t},get:function(e){var e=e||window.location.search||null;if(e)return _.reduce(e.replace("?","").split("&"),function(e,t){return t.length>0&&_.extend(e,_.object([_.map(t.split("="),decodeURIComponent)])),e},{})}};t.exports=i},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/ScreenViewer.js":[function(e,t,s){var i="ScreenViewer",r={map:{tablet:768,tabletLandscape:990,desktop:1260,desktopFull:1760}},o=null,n=function(){var e=l(),t=r.map,s={type:null,screenWidth:null,infoBefore:null};try{if(!e)throw new Error("Ширина экрана не получена, значение выводится, как: "+e);return s.screenWidth=e,e<t.tablet?s.type="mobile":e>=t.tablet&&e<t.tabletLandscape?s.type="tablet":e>=t.tabletLandscape&&e<t.desktop?s.type="tabletLandscape":e>=t.desktop&&e<t.desktopFull?s.type="desktop":e>=t.desktopFull&&(s.type="desktopFull"),s.infoBefore=c(),s}catch(o){RG.logger.error("Модуль "+i+", функция detectScreenSizeType.\nОшибка: "+o)}},a=function(e){RG.logger.info(e);var t=n();o&&o.type===t.type||(t.infoBefore=c(),o=t,RG.events.publish(i+".update",o),RG.logger.trace(o))},l=function(){return window.innerWidth||$(window).width()},c=function(){return o},u=function(){var e={};o=n(),e[i+".ready"]=a,e[i+".check"]=a,e["window.resize"]=a,RG.events.registerList(e)};t.exports={_modulePrefix:i,getScreenInfo:c,init:u}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Selection.js":[function(e,t,s){var i=function(){if(window.getSelection)return window.getSelection();if(document.getSelection)return document.getSelection();var e=document.selection&&document.selection.createRange();return!!e.text&&e.text},r=function(e){var t=$(e)[0],s=null;document.selection?(s=document.body.createTextRange(),s.moveToElementText(t),s.select()):window.getSelection&&(s=document.createRange(),s.selectNodeContents(t),window.getSelection().removeAllRanges(),window.getSelection().addRange(s))};t.exports={getSelected:i,selectText:r}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/Geolocation.js":[function(e,t,s){var i=e("./config").geolocationPaths,r=function(e){RG.logger.info(e),$.get(""+i.getRegion).then(function(e){RG.events.publish("geolocation.list",e)})},o=function(e,t){RG.logger.info(e),$.get(""+i.changeRegion+t.id).then(function(){RG.events.publish("geolocation.region.changed",t)})},n=function(e){RG.logger.info(e),$.get(""+i.getRegions).then(function(e){RG.events.publish("geolocation.region.update",e)})},a=function(){RG.events.registerList({"geolocation.region.get":r,"geolocation.region.change":o,"geolocation.region.all":n})};t.exports={init:a}},{"./config":"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/config.js"}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/Place.js":[function(e,t,s){var i="Place",r={},o=function(e,t){r.placeSrc=t,r.placeFiltered=t},n=function(e,t){RG.events.subscribe(i+".places.loaded",o)};t.exports={_modulePrefix:i,init:n}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/RegionalNews.js":[function(e,t,s){var i=null,r=[],o=null,n=[],a=function(){RG.BlocksShifter.setCallback([{blockId:"rgb_feed_last-news",screenType:"mobile",callback:function(e,t){RG.events.publish("regional.render"),RG.events.publish("scroll.init",$(".b-feed__list_scrolled"))}},{blockId:"rgb_feed_last-news",screenType:"tablet tabletLandscape desktop desktopFull",callback:function(e,t){RG.events.publish("regional.render"),RG.events.publish("scroll.init",$(".b-feed__list_scrolled"))}}]),RG.events.registerList({"regional.run":l,"regional.template.get":c,"regional.news.get":u,"regional.render":d,"geolocation.region.changed":function(e,t){RG.logger.info(e),t&&(i=t,RG.events.publish("regional.news.get"))},"geolocation.list":function(e){RG.events.publish("regional.run")}}),RG.events.publish("regional.run")},l=function(e){RG.logger.info(e),i=RG.session.getUserRegion(),$(".b-feed__list_reg").hide()},c=function(e){RG.logger.info(e),$.get(RG.config.paths.tmpl.bFeed).then(function(e){o=e,RG.events.publish("regional.news.get")})},u=function(e){RG.logger.info(e),i.rgId&&$.get(RG.config.paths.lastNews+"region-"+i.rgId+".json").then(function(e){r=e.result,RG.events.publish("regional.render")})},p=function(){!_.isEmpty(i)&&_.isString(i.rubricPrepositionalName)&&($(".b-feed__name_reg-link, .b-feed__name_com").off("click"),$(".b-feed__name_reg-link").attr("href",i.link).text("в "+i.rubricPrepositionalName).on("click",function(e){$(this).parent().hasClass("is-active")&&(window.location=i.link),$(".b-feed__list_com").hide(),$(".b-feed__list_reg").show(),$(this).parent().addClass("is-active"),$(".b-feed__name_com-link").parent().removeClass("is-active"),e.preventDefault()}),$(".b-feed__name_com-link").on("click",function(e){$(".b-feed__list_com").show(),$(".b-feed__list_reg").hide(),$(".b-feed__name_reg-link").parent().removeClass("is-active"),$(".b-feed__name_com-link").parent().addClass("is-active"),e.preventDefault()}))},d=function(){o?(p(),$(".b-feed__list_reg").each(function(e,t){var s=$(this).attr("data-id");s?n[s].set("items",r):(s=Math.random().toString(36).substring(6),n[s]=new Ractive({el:t,template:"{{#items}}"+o+"{{/items}}",data:function(){return{items:r,dateFormat:RG.datetime.parseVmDate}}}),$(this).attr("data-id",s))})):RG.events.publish("regional.template.get")};t.exports={init:a}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/Saved.js":[function(e,t,s){var i=e("./config").savedPaths,r=function(e,t){RG.logger.info(e),$.get(""+i.add+t).then(function(e){RG.events.publish("subscribe.saved.added",t)})},o=function(e,t){RG.logger.info(e),$.get(""+i.remove+t).then(function(e){RG.events.publish("subscribe.saved.removed",t)})},n=function(e,t){RG.logger.info(e),$.get(""+i.toggle+t).then(function(e){RG.events.publish("subscribe.saved.toggled",t)})},a=function(){RG.events.registerList({"subscribe.saved.toggle":n,"subscribe.saved.remove":o,"subscribe.saved.add":r})};t.exports={init:a}},{"./config":"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/config.js"}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/Subscribe.js":[function(e,t,s){var i=e("./config").sujetsPaths,r=e("./config").commentsPaths,o=e("./config").freshPaths,n=e("./config").docPaths,a=function(e,t){RG.logger.info(e),$.get(""+i.remove+t).then(function(e){e.id=parseInt(e.id),RG.events.publish("subscribe.sujet.removed",e)})},l=function(e,t){RG.logger.info(e),$.get(""+i.add+t).then(function(e){e.id=parseInt(e.id),RG.events.publish("subscribe.sujet.added",e)})},c=function(e,t){RG.logger.info(e),$.get(""+i.getMaterials+t).then(function(e){RG.events.publish("subscribe.sujet.set",e.items)})},u=function(e,t){RG.logger.info(e),$.get(""+r.remove+t).then(function(e){RG.events.publish("subscribe.comments.removed",t)})},p=function(e,t){RG.logger.info(e),$.get(""+r.add+t).then(function(){RG.events.publish("subscribe.comments.added",t)})},d=function(e){RG.logger.info(e);var t=[],s=+RG.meta.getSujet();$.get(""+i.getFollowed).then(function(e){t=e.items,_.findIndex(t,{id:s})!==-1&&RG.events.publish("subscribe.sujet.added",_.findWhere(t,{id:s})),RG.events.publish("subscribe.sujet.list",e)})},f=function(e){RG.logger.info(e),$.get(""+i.getTopSujets).then(function(e){RG.events.publish("subscribe.sujets.toped",e)})},b=function(e){RG.logger.info(e),$.get(""+o.add).then(function(e){RG.events.publish("subscribe.fresh.added",e)})},v=function(e){RG.logger.info(e),$.get(""+o.remove).then(function(e){RG.events.publish("subscribe.fresh.removed",e)})},h=function(e){RG.logger.info(e),RG.session.isAuthorized()&&$.get(""+o.check).then(function(e){"OK"===e.status?RG.events.publish("subscribe.fresh.added",e):RG.events.publish("subscribe.fresh.removed",e)})},m=function(e){RG.logger.info(e),$.get(""+n.add).then(function(e){RG.events.publish("subscribe.doc.added",e)})},w=function(e){RG.logger.info(e),$.get(""+n.remove).then(function(e){RG.events.publish("subscribe.doc.removed",e)})},g=function(e){RG.logger.info(e),RG.session.isAuthorized()&&$.get(""+n.check).then(function(e){"OK"===e.status?RG.events.publish("subscribe.doc.added",e):(RG.logger.trace(e),RG.events.publish("subscribe.doc.removed",e))})},R=function(){RG.events.registerList({"subscribe.sujet.remove":a,"subscribe.sujet.fetch":d,"subscribe.sujet.add":l,"subscribe.sujet.get":c,"subscribe.sujets.top":f,"subscribe.comments.remove":u,"subscribe.comments.add":p,"subscribe.fresh.add":b,"subscribe.fresh.remove":v,"subscribe.fresh.check":h,"subscribe.doc.add":m,"subscribe.doc.remove":w,"subscribe.doc.check":g})};t.exports={init:R}},{"./config":"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/config.js"}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/Viewed.js":[function(e,t,s){var i=e("./config").viewedPaths,r=function(e){RG.logger.info(e),$.get(""+i.getViewed).then(function(e){RG.events.publish("viewed.list",e)})},o=function(e){RG.logger.info(e);var t=RG.meta.getMaterial();$.get(""+i.setViewed+t).then(function(e){e.current_saved&&RG.events.publish("subscribe.saved.added",RG.meta.getMaterial())})},n=function(){RG.events.registerList({"viewed.get":r,"viewed.set":o})};t.exports={init:n}},{"./config":"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/config.js"}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Services/config.js":[function(e,t,s){var i=RG.config.paths.root,r=i+"subscribe/",o=r+"add/",n=r+"remove/",a=i+"account/",l=i+"geo/",c=r+"check/",u=i+"app/send_error",p={add:o+"sujet/",remove:n+"sujet/",getMaterials:r+"articles/",getFollowed:r+"sujets",getTopSujets:r+"top_sujets"},d={add:o+"comments/",remove:n+"comments/"},f={add:a+"set_favorite/",remove:a+"remove_favorite/",toggle:a+"toggle_read_page/"},b={getViewed:a+"list_viewed",setViewed:a+"set_viewed/"},v={getRegion:""+l,changeRegion:l+"change/",getRegions:l+"regions"},h={add:o+"fresh",remove:n+"fresh",check:c+"fresh"},m={add:o+"doc",remove:n+"doc",check:c+"doc"};t.exports={commentsPaths:d,sujetsPaths:p,savedPaths:f,typo:u,viewedPaths:b,geolocationPaths:v,freshPaths:h,docPaths:m}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Session.js":[function(e,t,s){var i=function(e){if(!_.isEmpty(e))return _.object(_.map(e,function(e,t){var s=e;return _.isString(s)&&(s=s.replace(/\+/g," ")),[t,s]}))},r=Cookies,o=function(){return r.enabled},n=function(){return!!r.get("rg_user_hash")},a=function(){var e=Cookies.get("rg_user_region");return e=e?i(JSON.parse(e)||null):{}},l=function(){var e=Cookies.get("rg_geo_data");return e=e?i(JSON.parse(e)||null):{}},c=function(){return r.get("rg_thash")},u=function(e){RG.logger.info(e),o()?c()?(RG.logger.warn("User avaitnig conformation"),RG.events.publish("session.confirm.required")):n()?(RG.logger.warn("User is authorized"),RG.events.publish("session.user.authorized")):(RG.logger.warn("User is NOT authorized"),RG.events.publish("session.user.logedout")):(RG.logger.error("Cookies disabled"),RG.events.publish("session.cookie.disabled"))},p=function(){var e={},t={};try{e=r.get("rg_user_info"),e&&(t=JSON.parse(e))}catch(s){RG.logger.error(""+s.toString())}return t},d=function(){RG.events.subscribe("session.check",u);var e=window.setInterval(function(){n()&&(window.clearInterval(e),RG.events.publish("session.check"))},1e3)};t.exports={enabled:o,isAuthorized:n,confirmData:c,init:d,getUserData:p,getUserRegion:a,getCurrentRegion:l}},{}],"/var/www/pravo/www/app/Resources/public/scripts/modules/Storage.js":[function(e,t,s){var i={get:function(e){return Lockr.get(e)},set:function(e,t){return Lockr.set(e,t),Lockr.get(e)},add:function(){return Lockr.sadd(name,value),Lockr.get(name)},all:function(){return Lockr.getAll()}};t.exports=i},{}]},{},["/var/www/pravo/www/app/Resources/public/scripts/global.js"]);
//# sourceMappingURL=maps/global.js.map
